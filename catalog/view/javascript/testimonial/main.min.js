/* flatpickr v4.6.9,, @license MIT */
!function (e, t) { "object" == typeof exports && "undefined" != typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define(t) : (e = "undefined" != typeof globalThis ? globalThis : e || self).flatpickr = t() }(this, (function () { "use strict"; var e = function () { return (e = Object.assign || function (e) { for (var t, n = 1, a = arguments.length; n < a; n++)for (var i in t = arguments[n]) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e }).apply(this, arguments) }; function t() { for (var e = 0, t = 0, n = arguments.length; t < n; t++)e += arguments[t].length; var a = Array(e), i = 0; for (t = 0; t < n; t++)for (var o = arguments[t], r = 0, l = o.length; r < l; r++, i++)a[i] = o[r]; return a } var n = ["onChange", "onClose", "onDayCreate", "onDestroy", "onKeyDown", "onMonthChange", "onOpen", "onParseConfig", "onReady", "onValueUpdate", "onYearChange", "onPreCalendarPosition"], a = { _disable: [], allowInput: !1, allowInvalidPreload: !1, altFormat: "F j, Y", altInput: !1, altInputClass: "form-control input", animate: "object" == typeof window && -1 === window.navigator.userAgent.indexOf("MSIE"), ariaDateFormat: "F j, Y", autoFillDefaultTime: !0, clickOpens: !0, closeOnSelect: !0, conjunction: ", ", dateFormat: "Y-m-d", defaultHour: 12, defaultMinute: 0, defaultSeconds: 0, disable: [], disableMobile: !1, enableSeconds: !1, enableTime: !1, errorHandler: function (e) { return "undefined" != typeof console && console.warn(e) }, getWeek: function (e) { var t = new Date(e.getTime()); t.setHours(0, 0, 0, 0), t.setDate(t.getDate() + 3 - (t.getDay() + 6) % 7); var n = new Date(t.getFullYear(), 0, 4); return 1 + Math.round(((t.getTime() - n.getTime()) / 864e5 - 3 + (n.getDay() + 6) % 7) / 7) }, hourIncrement: 1, ignoredFocusElements: [], inline: !1, locale: "default", minuteIncrement: 5, mode: "single", monthSelectorType: "dropdown", nextArrow: "<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>", noCalendar: !1, now: new Date, onChange: [], onClose: [], onDayCreate: [], onDestroy: [], onKeyDown: [], onMonthChange: [], onOpen: [], onParseConfig: [], onReady: [], onValueUpdate: [], onYearChange: [], onPreCalendarPosition: [], plugins: [], position: "auto", positionElement: void 0, prevArrow: "<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>", shorthandCurrentMonth: !1, showMonths: 1, static: !1, time_24hr: !1, weekNumbers: !1, wrap: !1 }, i = { weekdays: { shorthand: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"], longhand: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"] }, months: { shorthand: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"], longhand: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"] }, daysInMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31], firstDayOfWeek: 0, ordinal: function (e) { var t = e % 100; if (t > 3 && t < 21) return "th"; switch (t % 10) { case 1: return "st"; case 2: return "nd"; case 3: return "rd"; default: return "th" } }, rangeSeparator: " to ", weekAbbreviation: "Wk", scrollTitle: "Scroll to increment", toggleTitle: "Click to toggle", amPM: ["AM", "PM"], yearAriaLabel: "Year", monthAriaLabel: "Month", hourAriaLabel: "Hour", minuteAriaLabel: "Minute", time_24hr: !1 }, o = function (e, t) { return void 0 === t && (t = 2), ("000" + e).slice(-1 * t) }, r = function (e) { return !0 === e ? 1 : 0 }; function l(e, t) { var n; return function () { var a = this; clearTimeout(n), n = setTimeout((function () { return e.apply(a, arguments) }), t) } } var c = function (e) { return e instanceof Array ? e : [e] }; function d(e, t, n) { if (!0 === n) return e.classList.add(t); e.classList.remove(t) } function s(e, t, n) { var a = window.document.createElement(e); return t = t || "", n = n || "", a.className = t, void 0 !== n && (a.textContent = n), a } function u(e) { for (; e.firstChild;)e.removeChild(e.firstChild) } function f(e, t) { return t(e) ? e : e.parentNode ? f(e.parentNode, t) : void 0 } function m(e, t) { var n = s("div", "numInputWrapper"), a = s("input", "numInput " + e), i = s("span", "arrowUp"), o = s("span", "arrowDown"); if (-1 === navigator.userAgent.indexOf("MSIE 9.0") ? a.type = "number" : (a.type = "text", a.pattern = "\\d*"), void 0 !== t) for (var r in t) a.setAttribute(r, t[r]); return n.appendChild(a), n.appendChild(i), n.appendChild(o), n } function g(e) { try { return "function" == typeof e.composedPath ? e.composedPath()[0] : e.target } catch (t) { return e.target } } var p = function () { }, h = function (e, t, n) { return n.months[t ? "shorthand" : "longhand"][e] }, v = { D: p, F: function (e, t, n) { e.setMonth(n.months.longhand.indexOf(t)) }, G: function (e, t) { e.setHours(parseFloat(t)) }, H: function (e, t) { e.setHours(parseFloat(t)) }, J: function (e, t) { e.setDate(parseFloat(t)) }, K: function (e, t, n) { e.setHours(e.getHours() % 12 + 12 * r(new RegExp(n.amPM[1], "i").test(t))) }, M: function (e, t, n) { e.setMonth(n.months.shorthand.indexOf(t)) }, S: function (e, t) { e.setSeconds(parseFloat(t)) }, U: function (e, t) { return new Date(1e3 * parseFloat(t)) }, W: function (e, t, n) { var a = parseInt(t), i = new Date(e.getFullYear(), 0, 2 + 7 * (a - 1), 0, 0, 0, 0); return i.setDate(i.getDate() - i.getDay() + n.firstDayOfWeek), i }, Y: function (e, t) { e.setFullYear(parseFloat(t)) }, Z: function (e, t) { return new Date(t) }, d: function (e, t) { e.setDate(parseFloat(t)) }, h: function (e, t) { e.setHours(parseFloat(t)) }, i: function (e, t) { e.setMinutes(parseFloat(t)) }, j: function (e, t) { e.setDate(parseFloat(t)) }, l: p, m: function (e, t) { e.setMonth(parseFloat(t) - 1) }, n: function (e, t) { e.setMonth(parseFloat(t) - 1) }, s: function (e, t) { e.setSeconds(parseFloat(t)) }, u: function (e, t) { return new Date(parseFloat(t)) }, w: p, y: function (e, t) { e.setFullYear(2e3 + parseFloat(t)) } }, D = { D: "(\\w+)", F: "(\\w+)", G: "(\\d\\d|\\d)", H: "(\\d\\d|\\d)", J: "(\\d\\d|\\d)\\w+", K: "", M: "(\\w+)", S: "(\\d\\d|\\d)", U: "(.+)", W: "(\\d\\d|\\d)", Y: "(\\d{4})", Z: "(.+)", d: "(\\d\\d|\\d)", h: "(\\d\\d|\\d)", i: "(\\d\\d|\\d)", j: "(\\d\\d|\\d)", l: "(\\w+)", m: "(\\d\\d|\\d)", n: "(\\d\\d|\\d)", s: "(\\d\\d|\\d)", u: "(.+)", w: "(\\d\\d|\\d)", y: "(\\d{2})" }, w = { Z: function (e) { return e.toISOString() }, D: function (e, t, n) { return t.weekdays.shorthand[w.w(e, t, n)] }, F: function (e, t, n) { return h(w.n(e, t, n) - 1, !1, t) }, G: function (e, t, n) { return o(w.h(e, t, n)) }, H: function (e) { return o(e.getHours()) }, J: function (e, t) { return void 0 !== t.ordinal ? e.getDate() + t.ordinal(e.getDate()) : e.getDate() }, K: function (e, t) { return t.amPM[r(e.getHours() > 11)] }, M: function (e, t) { return h(e.getMonth(), !0, t) }, S: function (e) { return o(e.getSeconds()) }, U: function (e) { return e.getTime() / 1e3 }, W: function (e, t, n) { return n.getWeek(e) }, Y: function (e) { return o(e.getFullYear(), 4) }, d: function (e) { return o(e.getDate()) }, h: function (e) { return e.getHours() % 12 ? e.getHours() % 12 : 12 }, i: function (e) { return o(e.getMinutes()) }, j: function (e) { return e.getDate() }, l: function (e, t) { return t.weekdays.longhand[e.getDay()] }, m: function (e) { return o(e.getMonth() + 1) }, n: function (e) { return e.getMonth() + 1 }, s: function (e) { return e.getSeconds() }, u: function (e) { return e.getTime() }, w: function (e) { return e.getDay() }, y: function (e) { return String(e.getFullYear()).substring(2) } }, b = function (e) { var t = e.config, n = void 0 === t ? a : t, o = e.l10n, r = void 0 === o ? i : o, l = e.isMobile, c = void 0 !== l && l; return function (e, t, a) { var i = a || r; return void 0 === n.formatDate || c ? t.split("").map((function (t, a, o) { return w[t] && "\\" !== o[a - 1] ? w[t](e, i, n) : "\\" !== t ? t : "" })).join("") : n.formatDate(e, t, i) } }, C = function (e) { var t = e.config, n = void 0 === t ? a : t, o = e.l10n, r = void 0 === o ? i : o; return function (e, t, i, o) { if (0 === e || e) { var l, c = o || r, d = e; if (e instanceof Date) l = new Date(e.getTime()); else if ("string" != typeof e && void 0 !== e.toFixed) l = new Date(e); else if ("string" == typeof e) { var s = t || (n || a).dateFormat, u = String(e).trim(); if ("today" === u) l = new Date, i = !0; else if (/Z$/.test(u) || /GMT$/.test(u)) l = new Date(e); else if (n && n.parseDate) l = n.parseDate(e, s); else { l = n && n.noCalendar ? new Date((new Date).setHours(0, 0, 0, 0)) : new Date((new Date).getFullYear(), 0, 1, 0, 0, 0, 0); for (var f = void 0, m = [], g = 0, p = 0, h = ""; g < s.length; g++) { var w = s[g], b = "\\" === w, C = "\\" === s[g - 1] || b; if (D[w] && !C) { h += D[w]; var M = new RegExp(h).exec(e); M && (f = !0) && m["Y" !== w ? "push" : "unshift"]({ fn: v[w], val: M[++p] }) } else b || (h += "."); m.forEach((function (e) { var t = e.fn, n = e.val; return l = t(l, n, c) || l })) } l = f ? l : void 0 } } if (l instanceof Date && !isNaN(l.getTime())) return !0 === i && l.setHours(0, 0, 0, 0), l; n.errorHandler(new Error("Invalid date provided: " + d)) } } }; function M(e, t, n) { return void 0 === n && (n = !0), !1 !== n ? new Date(e.getTime()).setHours(0, 0, 0, 0) - new Date(t.getTime()).setHours(0, 0, 0, 0) : e.getTime() - t.getTime() } var y = 864e5; function x(e) { var t = e.defaultHour, n = e.defaultMinute, a = e.defaultSeconds; if (void 0 !== e.minDate) { var i = e.minDate.getHours(), o = e.minDate.getMinutes(), r = e.minDate.getSeconds(); t < i && (t = i), t === i && n < o && (n = o), t === i && n === o && a < r && (a = e.minDate.getSeconds()) } if (void 0 !== e.maxDate) { var l = e.maxDate.getHours(), c = e.maxDate.getMinutes(); (t = Math.min(t, l)) === l && (n = Math.min(c, n)), t === l && n === c && (a = e.maxDate.getSeconds()) } return { hours: t, minutes: n, seconds: a } } "function" != typeof Object.assign && (Object.assign = function (e) { for (var t = [], n = 1; n < arguments.length; n++)t[n - 1] = arguments[n]; if (!e) throw TypeError("Cannot convert undefined or null to object"); for (var a = function (t) { t && Object.keys(t).forEach((function (n) { return e[n] = t[n] })) }, i = 0, o = t; i < o.length; i++) { var r = o[i]; a(r) } return e }); function E(p, v) { var w = { config: e(e({}, a), T.defaultConfig), l10n: i }; function E(e) { return e.bind(w) } function k() { var e = w.config; !1 === e.weekNumbers && 1 === e.showMonths || !0 !== e.noCalendar && window.requestAnimationFrame((function () { if (void 0 !== w.calendarContainer && (w.calendarContainer.style.visibility = "hidden", w.calendarContainer.style.display = "block"), void 0 !== w.daysContainer) { var t = (w.days.offsetWidth + 1) * e.showMonths; w.daysContainer.style.width = t + "px", w.calendarContainer.style.width = t + (void 0 !== w.weekWrapper ? w.weekWrapper.offsetWidth : 0) + "px", w.calendarContainer.style.removeProperty("visibility"), w.calendarContainer.style.removeProperty("display") } })) } function I(e) { if (0 === w.selectedDates.length) { var t = void 0 === w.config.minDate || M(new Date, w.config.minDate) >= 0 ? new Date : new Date(w.config.minDate.getTime()), n = x(w.config); t.setHours(n.hours, n.minutes, n.seconds, t.getMilliseconds()), w.selectedDates = [t], w.latestSelectedDateObj = t } void 0 !== e && "blur" !== e.type && function (e) { e.preventDefault(); var t = "keydown" === e.type, n = g(e), a = n; void 0 !== w.amPM && n === w.amPM && (w.amPM.textContent = w.l10n.amPM[r(w.amPM.textContent === w.l10n.amPM[0])]); var i = parseFloat(a.getAttribute("min")), l = parseFloat(a.getAttribute("max")), c = parseFloat(a.getAttribute("step")), d = parseInt(a.value, 10), s = e.delta || (t ? 38 === e.which ? 1 : -1 : 0), u = d + c * s; if (void 0 !== a.value && 2 === a.value.length) { var f = a === w.hourElement, m = a === w.minuteElement; u < i ? (u = l + u + r(!f) + (r(f) && r(!w.amPM)), m && j(void 0, -1, w.hourElement)) : u > l && (u = a === w.hourElement ? u - l - r(!w.amPM) : i, m && j(void 0, 1, w.hourElement)), w.amPM && f && (1 === c ? u + d === 23 : Math.abs(u - d) > c) && (w.amPM.textContent = w.l10n.amPM[r(w.amPM.textContent === w.l10n.amPM[0])]), a.value = o(u) } }(e); var a = w._input.value; S(), be(), w._input.value !== a && w._debouncedChange() } function S() { if (void 0 !== w.hourElement && void 0 !== w.minuteElement) { var e, t, n = (parseInt(w.hourElement.value.slice(-2), 10) || 0) % 24, a = (parseInt(w.minuteElement.value, 10) || 0) % 60, i = void 0 !== w.secondElement ? (parseInt(w.secondElement.value, 10) || 0) % 60 : 0; void 0 !== w.amPM && (e = n, t = w.amPM.textContent, n = e % 12 + 12 * r(t === w.l10n.amPM[1])); var o = void 0 !== w.config.minTime || w.config.minDate && w.minDateHasTime && w.latestSelectedDateObj && 0 === M(w.latestSelectedDateObj, w.config.minDate, !0); if (void 0 !== w.config.maxTime || w.config.maxDate && w.maxDateHasTime && w.latestSelectedDateObj && 0 === M(w.latestSelectedDateObj, w.config.maxDate, !0)) { var l = void 0 !== w.config.maxTime ? w.config.maxTime : w.config.maxDate; (n = Math.min(n, l.getHours())) === l.getHours() && (a = Math.min(a, l.getMinutes())), a === l.getMinutes() && (i = Math.min(i, l.getSeconds())) } if (o) { var c = void 0 !== w.config.minTime ? w.config.minTime : w.config.minDate; (n = Math.max(n, c.getHours())) === c.getHours() && a < c.getMinutes() && (a = c.getMinutes()), a === c.getMinutes() && (i = Math.max(i, c.getSeconds())) } O(n, a, i) } } function _(e) { var t = e || w.latestSelectedDateObj; t && O(t.getHours(), t.getMinutes(), t.getSeconds()) } function O(e, t, n) { void 0 !== w.latestSelectedDateObj && w.latestSelectedDateObj.setHours(e % 24, t, n || 0, 0), w.hourElement && w.minuteElement && !w.isMobile && (w.hourElement.value = o(w.config.time_24hr ? e : (12 + e) % 12 + 12 * r(e % 12 == 0)), w.minuteElement.value = o(t), void 0 !== w.amPM && (w.amPM.textContent = w.l10n.amPM[r(e >= 12)]), void 0 !== w.secondElement && (w.secondElement.value = o(n))) } function F(e) { var t = g(e), n = parseInt(t.value) + (e.delta || 0); (n / 1e3 > 1 || "Enter" === e.key && !/[^\d]/.test(n.toString())) && Q(n) } function A(e, t, n, a) { return t instanceof Array ? t.forEach((function (t) { return A(e, t, n, a) })) : e instanceof Array ? e.forEach((function (e) { return A(e, t, n, a) })) : (e.addEventListener(t, n, a), void w._handlers.push({ remove: function () { return e.removeEventListener(t, n) } })) } function N() { pe("onChange") } function P(e, t) { var n = void 0 !== e ? w.parseDate(e) : w.latestSelectedDateObj || (w.config.minDate && w.config.minDate > w.now ? w.config.minDate : w.config.maxDate && w.config.maxDate < w.now ? w.config.maxDate : w.now), a = w.currentYear, i = w.currentMonth; try { void 0 !== n && (w.currentYear = n.getFullYear(), w.currentMonth = n.getMonth()) } catch (e) { e.message = "Invalid date supplied: " + n, w.config.errorHandler(e) } t && w.currentYear !== a && (pe("onYearChange"), K()), !t || w.currentYear === a && w.currentMonth === i || pe("onMonthChange"), w.redraw() } function Y(e) { var t = g(e); ~t.className.indexOf("arrow") && j(e, t.classList.contains("arrowUp") ? 1 : -1) } function j(e, t, n) { var a = e && g(e), i = n || a && a.parentNode && a.parentNode.firstChild, o = he("increment"); o.delta = t, i && i.dispatchEvent(o) } function H(e, t, n, a) { var i = X(t, !0), o = s("span", "flatpickr-day " + e, t.getDate().toString()); return o.dateObj = t, o.$i = a, o.setAttribute("aria-label", w.formatDate(t, w.config.ariaDateFormat)), -1 === e.indexOf("hidden") && 0 === M(t, w.now) && (w.todayDateElem = o, o.classList.add("today"), o.setAttribute("aria-current", "date")), i ? (o.tabIndex = -1, ve(t) && (o.classList.add("selected"), w.selectedDateElem = o, "range" === w.config.mode && (d(o, "startRange", w.selectedDates[0] && 0 === M(t, w.selectedDates[0], !0)), d(o, "endRange", w.selectedDates[1] && 0 === M(t, w.selectedDates[1], !0)), "nextMonthDay" === e && o.classList.add("inRange")))) : o.classList.add("flatpickr-disabled"), "range" === w.config.mode && function (e) { return !("range" !== w.config.mode || w.selectedDates.length < 2) && (M(e, w.selectedDates[0]) >= 0 && M(e, w.selectedDates[1]) <= 0) }(t) && !ve(t) && o.classList.add("inRange"), w.weekNumbers && 1 === w.config.showMonths && "prevMonthDay" !== e && n % 7 == 1 && w.weekNumbers.insertAdjacentHTML("beforeend", "<span class='flatpickr-day'>" + w.config.getWeek(t) + "</span>"), pe("onDayCreate", o), o } function L(e) { e.focus(), "range" === w.config.mode && ae(e) } function W(e) { for (var t = e > 0 ? 0 : w.config.showMonths - 1, n = e > 0 ? w.config.showMonths : -1, a = t; a != n; a += e)for (var i = w.daysContainer.children[a], o = e > 0 ? 0 : i.children.length - 1, r = e > 0 ? i.children.length : -1, l = o; l != r; l += e) { var c = i.children[l]; if (-1 === c.className.indexOf("hidden") && X(c.dateObj)) return c } } function R(e, t) { var n = ee(document.activeElement || document.body), a = void 0 !== e ? e : n ? document.activeElement : void 0 !== w.selectedDateElem && ee(w.selectedDateElem) ? w.selectedDateElem : void 0 !== w.todayDateElem && ee(w.todayDateElem) ? w.todayDateElem : W(t > 0 ? 1 : -1); void 0 === a ? w._input.focus() : n ? function (e, t) { for (var n = -1 === e.className.indexOf("Month") ? e.dateObj.getMonth() : w.currentMonth, a = t > 0 ? w.config.showMonths : -1, i = t > 0 ? 1 : -1, o = n - w.currentMonth; o != a; o += i)for (var r = w.daysContainer.children[o], l = n - w.currentMonth === o ? e.$i + t : t < 0 ? r.children.length - 1 : 0, c = r.children.length, d = l; d >= 0 && d < c && d != (t > 0 ? c : -1); d += i) { var s = r.children[d]; if (-1 === s.className.indexOf("hidden") && X(s.dateObj) && Math.abs(e.$i - d) >= Math.abs(t)) return L(s) } w.changeMonth(i), R(W(i), 0) }(a, t) : L(a) } function B(e, t) { for (var n = (new Date(e, t, 1).getDay() - w.l10n.firstDayOfWeek + 7) % 7, a = w.utils.getDaysInMonth((t - 1 + 12) % 12, e), i = w.utils.getDaysInMonth(t, e), o = window.document.createDocumentFragment(), r = w.config.showMonths > 1, l = r ? "prevMonthDay hidden" : "prevMonthDay", c = r ? "nextMonthDay hidden" : "nextMonthDay", d = a + 1 - n, u = 0; d <= a; d++, u++)o.appendChild(H(l, new Date(e, t - 1, d), d, u)); for (d = 1; d <= i; d++, u++)o.appendChild(H("", new Date(e, t, d), d, u)); for (var f = i + 1; f <= 42 - n && (1 === w.config.showMonths || u % 7 != 0); f++, u++)o.appendChild(H(c, new Date(e, t + 1, f % i), f, u)); var m = s("div", "dayContainer"); return m.appendChild(o), m } function J() { if (void 0 !== w.daysContainer) { u(w.daysContainer), w.weekNumbers && u(w.weekNumbers); for (var e = document.createDocumentFragment(), t = 0; t < w.config.showMonths; t++) { var n = new Date(w.currentYear, w.currentMonth, 1); n.setMonth(w.currentMonth + t), e.appendChild(B(n.getFullYear(), n.getMonth())) } w.daysContainer.appendChild(e), w.days = w.daysContainer.firstChild, "range" === w.config.mode && 1 === w.selectedDates.length && ae() } } function K() { if (!(w.config.showMonths > 1 || "dropdown" !== w.config.monthSelectorType)) { var e = function (e) { return !(void 0 !== w.config.minDate && w.currentYear === w.config.minDate.getFullYear() && e < w.config.minDate.getMonth()) && !(void 0 !== w.config.maxDate && w.currentYear === w.config.maxDate.getFullYear() && e > w.config.maxDate.getMonth()) }; w.monthsDropdownContainer.tabIndex = -1, w.monthsDropdownContainer.innerHTML = ""; for (var t = 0; t < 12; t++)if (e(t)) { var n = s("option", "flatpickr-monthDropdown-month"); n.value = new Date(w.currentYear, t).getMonth().toString(), n.textContent = h(t, w.config.shorthandCurrentMonth, w.l10n), n.tabIndex = -1, w.currentMonth === t && (n.selected = !0), w.monthsDropdownContainer.appendChild(n) } } } function U() { var e, t = s("div", "flatpickr-month"), n = window.document.createDocumentFragment(); w.config.showMonths > 1 || "static" === w.config.monthSelectorType ? e = s("span", "cur-month") : (w.monthsDropdownContainer = s("select", "flatpickr-monthDropdown-months"), w.monthsDropdownContainer.setAttribute("aria-label", w.l10n.monthAriaLabel), A(w.monthsDropdownContainer, "change", (function (e) { var t = g(e), n = parseInt(t.value, 10); w.changeMonth(n - w.currentMonth), pe("onMonthChange") })), K(), e = w.monthsDropdownContainer); var a = m("cur-year", { tabindex: "-1" }), i = a.getElementsByTagName("input")[0]; i.setAttribute("aria-label", w.l10n.yearAriaLabel), w.config.minDate && i.setAttribute("min", w.config.minDate.getFullYear().toString()), w.config.maxDate && (i.setAttribute("max", w.config.maxDate.getFullYear().toString()), i.disabled = !!w.config.minDate && w.config.minDate.getFullYear() === w.config.maxDate.getFullYear()); var o = s("div", "flatpickr-current-month"); return o.appendChild(e), o.appendChild(a), n.appendChild(o), t.appendChild(n), { container: t, yearElement: i, monthElement: e } } function q() { u(w.monthNav), w.monthNav.appendChild(w.prevMonthNav), w.config.showMonths && (w.yearElements = [], w.monthElements = []); for (var e = w.config.showMonths; e--;) { var t = U(); w.yearElements.push(t.yearElement), w.monthElements.push(t.monthElement), w.monthNav.appendChild(t.container) } w.monthNav.appendChild(w.nextMonthNav) } function $() { w.weekdayContainer ? u(w.weekdayContainer) : w.weekdayContainer = s("div", "flatpickr-weekdays"); for (var e = w.config.showMonths; e--;) { var t = s("div", "flatpickr-weekdaycontainer"); w.weekdayContainer.appendChild(t) } return z(), w.weekdayContainer } function z() { if (w.weekdayContainer) { var e = w.l10n.firstDayOfWeek, n = t(w.l10n.weekdays.shorthand); e > 0 && e < n.length && (n = t(n.splice(e, n.length), n.splice(0, e))); for (var a = w.config.showMonths; a--;)w.weekdayContainer.children[a].innerHTML = "\n      <span class='flatpickr-weekday'>\n        " + n.join("</span><span class='flatpickr-weekday'>") + "\n      </span>\n      " } } function G(e, t) { void 0 === t && (t = !0); var n = t ? e : e - w.currentMonth; n < 0 && !0 === w._hidePrevMonthArrow || n > 0 && !0 === w._hideNextMonthArrow || (w.currentMonth += n, (w.currentMonth < 0 || w.currentMonth > 11) && (w.currentYear += w.currentMonth > 11 ? 1 : -1, w.currentMonth = (w.currentMonth + 12) % 12, pe("onYearChange"), K()), J(), pe("onMonthChange"), De()) } function V(e) { return !(!w.config.appendTo || !w.config.appendTo.contains(e)) || w.calendarContainer.contains(e) } function Z(e) { if (w.isOpen && !w.config.inline) { var t = g(e), n = V(t), a = t === w.input || t === w.altInput || w.element.contains(t) || e.path && e.path.indexOf && (~e.path.indexOf(w.input) || ~e.path.indexOf(w.altInput)), i = "blur" === e.type ? a && e.relatedTarget && !V(e.relatedTarget) : !a && !n && !V(e.relatedTarget), o = !w.config.ignoredFocusElements.some((function (e) { return e.contains(t) })); i && o && (void 0 !== w.timeContainer && void 0 !== w.minuteElement && void 0 !== w.hourElement && "" !== w.input.value && void 0 !== w.input.value && I(), w.close(), w.config && "range" === w.config.mode && 1 === w.selectedDates.length && (w.clear(!1), w.redraw())) } } function Q(e) { if (!(!e || w.config.minDate && e < w.config.minDate.getFullYear() || w.config.maxDate && e > w.config.maxDate.getFullYear())) { var t = e, n = w.currentYear !== t; w.currentYear = t || w.currentYear, w.config.maxDate && w.currentYear === w.config.maxDate.getFullYear() ? w.currentMonth = Math.min(w.config.maxDate.getMonth(), w.currentMonth) : w.config.minDate && w.currentYear === w.config.minDate.getFullYear() && (w.currentMonth = Math.max(w.config.minDate.getMonth(), w.currentMonth)), n && (w.redraw(), pe("onYearChange"), K()) } } function X(e, t) { var n; void 0 === t && (t = !0); var a = w.parseDate(e, void 0, t); if (w.config.minDate && a && M(a, w.config.minDate, void 0 !== t ? t : !w.minDateHasTime) < 0 || w.config.maxDate && a && M(a, w.config.maxDate, void 0 !== t ? t : !w.maxDateHasTime) > 0) return !1; if (!w.config.enable && 0 === w.config.disable.length) return !0; if (void 0 === a) return !1; for (var i = !!w.config.enable, o = null !== (n = w.config.enable) && void 0 !== n ? n : w.config.disable, r = 0, l = void 0; r < o.length; r++) { if ("function" == typeof (l = o[r]) && l(a)) return i; if (l instanceof Date && void 0 !== a && l.getTime() === a.getTime()) return i; if ("string" == typeof l) { var c = w.parseDate(l, void 0, !0); return c && c.getTime() === a.getTime() ? i : !i } if ("object" == typeof l && void 0 !== a && l.from && l.to && a.getTime() >= l.from.getTime() && a.getTime() <= l.to.getTime()) return i } return !i } function ee(e) { return void 0 !== w.daysContainer && (-1 === e.className.indexOf("hidden") && -1 === e.className.indexOf("flatpickr-disabled") && w.daysContainer.contains(e)) } function te(e) { !(e.target === w._input) || !(w.selectedDates.length > 0 || w._input.value.length > 0) || e.relatedTarget && V(e.relatedTarget) || w.setDate(w._input.value, !0, e.target === w.altInput ? w.config.altFormat : w.config.dateFormat) } function ne(e) { var t = g(e), n = w.config.wrap ? p.contains(t) : t === w._input, a = w.config.allowInput, i = w.isOpen && (!a || !n), o = w.config.inline && n && !a; if (13 === e.keyCode && n) { if (a) return w.setDate(w._input.value, !0, t === w.altInput ? w.config.altFormat : w.config.dateFormat), t.blur(); w.open() } else if (V(t) || i || o) { var r = !!w.timeContainer && w.timeContainer.contains(t); switch (e.keyCode) { case 13: r ? (e.preventDefault(), I(), se()) : ue(e); break; case 27: e.preventDefault(), se(); break; case 8: case 46: n && !w.config.allowInput && (e.preventDefault(), w.clear()); break; case 37: case 39: if (r || n) w.hourElement && w.hourElement.focus(); else if (e.preventDefault(), void 0 !== w.daysContainer && (!1 === a || document.activeElement && ee(document.activeElement))) { var l = 39 === e.keyCode ? 1 : -1; e.ctrlKey ? (e.stopPropagation(), G(l), R(W(1), 0)) : R(void 0, l) } break; case 38: case 40: e.preventDefault(); var c = 40 === e.keyCode ? 1 : -1; w.daysContainer && void 0 !== t.$i || t === w.input || t === w.altInput ? e.ctrlKey ? (e.stopPropagation(), Q(w.currentYear - c), R(W(1), 0)) : r || R(void 0, 7 * c) : t === w.currentYearElement ? Q(w.currentYear - c) : w.config.enableTime && (!r && w.hourElement && w.hourElement.focus(), I(e), w._debouncedChange()); break; case 9: if (r) { var d = [w.hourElement, w.minuteElement, w.secondElement, w.amPM].concat(w.pluginElements).filter((function (e) { return e })), s = d.indexOf(t); if (-1 !== s) { var u = d[s + (e.shiftKey ? -1 : 1)]; e.preventDefault(), (u || w._input).focus() } } else !w.config.noCalendar && w.daysContainer && w.daysContainer.contains(t) && e.shiftKey && (e.preventDefault(), w._input.focus()) } } if (void 0 !== w.amPM && t === w.amPM) switch (e.key) { case w.l10n.amPM[0].charAt(0): case w.l10n.amPM[0].charAt(0).toLowerCase(): w.amPM.textContent = w.l10n.amPM[0], S(), be(); break; case w.l10n.amPM[1].charAt(0): case w.l10n.amPM[1].charAt(0).toLowerCase(): w.amPM.textContent = w.l10n.amPM[1], S(), be() }(n || V(t)) && pe("onKeyDown", e) } function ae(e) { if (1 === w.selectedDates.length && (!e || e.classList.contains("flatpickr-day") && !e.classList.contains("flatpickr-disabled"))) { for (var t = e ? e.dateObj.getTime() : w.days.firstElementChild.dateObj.getTime(), n = w.parseDate(w.selectedDates[0], void 0, !0).getTime(), a = Math.min(t, w.selectedDates[0].getTime()), i = Math.max(t, w.selectedDates[0].getTime()), o = !1, r = 0, l = 0, c = a; c < i; c += y)X(new Date(c), !0) || (o = o || c > a && c < i, c < n && (!r || c > r) ? r = c : c > n && (!l || c < l) && (l = c)); for (var d = 0; d < w.config.showMonths; d++)for (var s = w.daysContainer.children[d], u = function (a, i) { var c, d, u, f = s.children[a], m = f.dateObj.getTime(), g = r > 0 && m < r || l > 0 && m > l; return g ? (f.classList.add("notAllowed"), ["inRange", "startRange", "endRange"].forEach((function (e) { f.classList.remove(e) })), "continue") : o && !g ? "continue" : (["startRange", "inRange", "endRange", "notAllowed"].forEach((function (e) { f.classList.remove(e) })), void (void 0 !== e && (e.classList.add(t <= w.selectedDates[0].getTime() ? "startRange" : "endRange"), n < t && m === n ? f.classList.add("startRange") : n > t && m === n && f.classList.add("endRange"), m >= r && (0 === l || m <= l) && (d = n, u = t, (c = m) > Math.min(d, u) && c < Math.max(d, u)) && f.classList.add("inRange")))) }, f = 0, m = s.children.length; f < m; f++)u(f) } } function ie() { !w.isOpen || w.config.static || w.config.inline || ce() } function oe(e) { return function (t) { var n = w.config["_" + e + "Date"] = w.parseDate(t, w.config.dateFormat), a = w.config["_" + ("min" === e ? "max" : "min") + "Date"]; void 0 !== n && (w["min" === e ? "minDateHasTime" : "maxDateHasTime"] = n.getHours() > 0 || n.getMinutes() > 0 || n.getSeconds() > 0), w.selectedDates && (w.selectedDates = w.selectedDates.filter((function (e) { return X(e) })), w.selectedDates.length || "min" !== e || _(n), be()), w.daysContainer && (de(), void 0 !== n ? w.currentYearElement[e] = n.getFullYear().toString() : w.currentYearElement.removeAttribute(e), w.currentYearElement.disabled = !!a && void 0 !== n && a.getFullYear() === n.getFullYear()) } } function re() { return w.config.wrap ? p.querySelector("[data-input]") : p } function le() { "object" != typeof w.config.locale && void 0 === T.l10ns[w.config.locale] && w.config.errorHandler(new Error("flatpickr: invalid locale " + w.config.locale)), w.l10n = e(e({}, T.l10ns.default), "object" == typeof w.config.locale ? w.config.locale : "default" !== w.config.locale ? T.l10ns[w.config.locale] : void 0), D.K = "(" + w.l10n.amPM[0] + "|" + w.l10n.amPM[1] + "|" + w.l10n.amPM[0].toLowerCase() + "|" + w.l10n.amPM[1].toLowerCase() + ")", void 0 === e(e({}, v), JSON.parse(JSON.stringify(p.dataset || {}))).time_24hr && void 0 === T.defaultConfig.time_24hr && (w.config.time_24hr = w.l10n.time_24hr), w.formatDate = b(w), w.parseDate = C({ config: w.config, l10n: w.l10n }) } function ce(e) { if ("function" != typeof w.config.position) { if (void 0 !== w.calendarContainer) { pe("onPreCalendarPosition"); var t = e || w._positionElement, n = Array.prototype.reduce.call(w.calendarContainer.children, (function (e, t) { return e + t.offsetHeight }), 0), a = w.calendarContainer.offsetWidth, i = w.config.position.split(" "), o = i[0], r = i.length > 1 ? i[1] : null, l = t.getBoundingClientRect(), c = window.innerHeight - l.bottom, s = "above" === o || "below" !== o && c < n && l.top > n, u = window.pageYOffset + l.top + (s ? -n - 2 : t.offsetHeight + 2); if (d(w.calendarContainer, "arrowTop", !s), d(w.calendarContainer, "arrowBottom", s), !w.config.inline) { var f = window.pageXOffset + l.left, m = !1, g = !1; "center" === r ? (f -= (a - l.width) / 2, m = !0) : "right" === r && (f -= a - l.width, g = !0), d(w.calendarContainer, "arrowLeft", !m && !g), d(w.calendarContainer, "arrowCenter", m), d(w.calendarContainer, "arrowRight", g); var p = window.document.body.offsetWidth - (window.pageXOffset + l.right), h = f + a > window.document.body.offsetWidth, v = p + a > window.document.body.offsetWidth; if (d(w.calendarContainer, "rightMost", h), !w.config.static) if (w.calendarContainer.style.top = u + "px", h) if (v) { var D = function () { for (var e = null, t = 0; t < document.styleSheets.length; t++) { var n = document.styleSheets[t]; try { n.cssRules } catch (e) { continue } e = n; break } return null != e ? e : (a = document.createElement("style"), document.head.appendChild(a), a.sheet); var a }(); if (void 0 === D) return; var b = window.document.body.offsetWidth, C = Math.max(0, b / 2 - a / 2), M = D.cssRules.length, y = "{left:" + l.left + "px;right:auto;}"; d(w.calendarContainer, "rightMost", !1), d(w.calendarContainer, "centerMost", !0), D.insertRule(".flatpickr-calendar.centerMost:before,.flatpickr-calendar.centerMost:after" + y, M), w.calendarContainer.style.left = C + "px", w.calendarContainer.style.right = "auto" } else w.calendarContainer.style.left = "auto", w.calendarContainer.style.right = p + "px"; else w.calendarContainer.style.left = f + "px", w.calendarContainer.style.right = "auto" } } } else w.config.position(w, e) } function de() { w.config.noCalendar || w.isMobile || (K(), De(), J()) } function se() { w._input.focus(), -1 !== window.navigator.userAgent.indexOf("MSIE") || void 0 !== navigator.msMaxTouchPoints ? setTimeout(w.close, 0) : w.close() } function ue(e) { e.preventDefault(), e.stopPropagation(); var t = f(g(e), (function (e) { return e.classList && e.classList.contains("flatpickr-day") && !e.classList.contains("flatpickr-disabled") && !e.classList.contains("notAllowed") })); if (void 0 !== t) { var n = t, a = w.latestSelectedDateObj = new Date(n.dateObj.getTime()), i = (a.getMonth() < w.currentMonth || a.getMonth() > w.currentMonth + w.config.showMonths - 1) && "range" !== w.config.mode; if (w.selectedDateElem = n, "single" === w.config.mode) w.selectedDates = [a]; else if ("multiple" === w.config.mode) { var o = ve(a); o ? w.selectedDates.splice(parseInt(o), 1) : w.selectedDates.push(a) } else "range" === w.config.mode && (2 === w.selectedDates.length && w.clear(!1, !1), w.latestSelectedDateObj = a, w.selectedDates.push(a), 0 !== M(a, w.selectedDates[0], !0) && w.selectedDates.sort((function (e, t) { return e.getTime() - t.getTime() }))); if (S(), i) { var r = w.currentYear !== a.getFullYear(); w.currentYear = a.getFullYear(), w.currentMonth = a.getMonth(), r && (pe("onYearChange"), K()), pe("onMonthChange") } if (De(), J(), be(), i || "range" === w.config.mode || 1 !== w.config.showMonths ? void 0 !== w.selectedDateElem && void 0 === w.hourElement && w.selectedDateElem && w.selectedDateElem.focus() : L(n), void 0 !== w.hourElement && void 0 !== w.hourElement && w.hourElement.focus(), w.config.closeOnSelect) { var l = "single" === w.config.mode && !w.config.enableTime, c = "range" === w.config.mode && 2 === w.selectedDates.length && !w.config.enableTime; (l || c) && se() } N() } } w.parseDate = C({ config: w.config, l10n: w.l10n }), w._handlers = [], w.pluginElements = [], w.loadedPlugins = [], w._bind = A, w._setHoursFromDate = _, w._positionCalendar = ce, w.changeMonth = G, w.changeYear = Q, w.clear = function (e, t) { void 0 === e && (e = !0); void 0 === t && (t = !0); w.input.value = "", void 0 !== w.altInput && (w.altInput.value = ""); void 0 !== w.mobileInput && (w.mobileInput.value = ""); w.selectedDates = [], w.latestSelectedDateObj = void 0, !0 === t && (w.currentYear = w._initialDate.getFullYear(), w.currentMonth = w._initialDate.getMonth()); if (!0 === w.config.enableTime) { var n = x(w.config), a = n.hours, i = n.minutes, o = n.seconds; O(a, i, o) } w.redraw(), e && pe("onChange") }, w.close = function () { w.isOpen = !1, w.isMobile || (void 0 !== w.calendarContainer && w.calendarContainer.classList.remove("open"), void 0 !== w._input && w._input.classList.remove("active")); pe("onClose") }, w._createElement = s, w.destroy = function () { void 0 !== w.config && pe("onDestroy"); for (var e = w._handlers.length; e--;)w._handlers[e].remove(); if (w._handlers = [], w.mobileInput) w.mobileInput.parentNode && w.mobileInput.parentNode.removeChild(w.mobileInput), w.mobileInput = void 0; else if (w.calendarContainer && w.calendarContainer.parentNode) if (w.config.static && w.calendarContainer.parentNode) { var t = w.calendarContainer.parentNode; if (t.lastChild && t.removeChild(t.lastChild), t.parentNode) { for (; t.firstChild;)t.parentNode.insertBefore(t.firstChild, t); t.parentNode.removeChild(t) } } else w.calendarContainer.parentNode.removeChild(w.calendarContainer); w.altInput && (w.input.type = "text", w.altInput.parentNode && w.altInput.parentNode.removeChild(w.altInput), delete w.altInput); w.input && (w.input.type = w.input._type, w.input.classList.remove("flatpickr-input"), w.input.removeAttribute("readonly"));["_showTimeInput", "latestSelectedDateObj", "_hideNextMonthArrow", "_hidePrevMonthArrow", "__hideNextMonthArrow", "__hidePrevMonthArrow", "isMobile", "isOpen", "selectedDateElem", "minDateHasTime", "maxDateHasTime", "days", "daysContainer", "_input", "_positionElement", "innerContainer", "rContainer", "monthNav", "todayDateElem", "calendarContainer", "weekdayContainer", "prevMonthNav", "nextMonthNav", "monthsDropdownContainer", "currentMonthElement", "currentYearElement", "navigationCurrentMonth", "selectedDateElem", "config"].forEach((function (e) { try { delete w[e] } catch (e) { } })) }, w.isEnabled = X, w.jumpToDate = P, w.open = function (e, t) { void 0 === t && (t = w._positionElement); if (!0 === w.isMobile) { if (e) { e.preventDefault(); var n = g(e); n && n.blur() } return void 0 !== w.mobileInput && (w.mobileInput.focus(), w.mobileInput.click()), void pe("onOpen") } if (w._input.disabled || w.config.inline) return; var a = w.isOpen; w.isOpen = !0, a || (w.calendarContainer.classList.add("open"), w._input.classList.add("active"), pe("onOpen"), ce(t)); !0 === w.config.enableTime && !0 === w.config.noCalendar && (!1 !== w.config.allowInput || void 0 !== e && w.timeContainer.contains(e.relatedTarget) || setTimeout((function () { return w.hourElement.select() }), 50)) }, w.redraw = de, w.set = function (e, t) { if (null !== e && "object" == typeof e) for (var a in Object.assign(w.config, e), e) void 0 !== fe[a] && fe[a].forEach((function (e) { return e() })); else w.config[e] = t, void 0 !== fe[e] ? fe[e].forEach((function (e) { return e() })) : n.indexOf(e) > -1 && (w.config[e] = c(t)); w.redraw(), be(!0) }, w.setDate = function (e, t, n) { void 0 === t && (t = !1); void 0 === n && (n = w.config.dateFormat); if (0 !== e && !e || e instanceof Array && 0 === e.length) return w.clear(t); me(e, n), w.latestSelectedDateObj = w.selectedDates[w.selectedDates.length - 1], w.redraw(), P(void 0, t), _(), 0 === w.selectedDates.length && w.clear(!1); be(t), t && pe("onChange") }, w.toggle = function (e) { if (!0 === w.isOpen) return w.close(); w.open(e) }; var fe = { locale: [le, z], showMonths: [q, k, $], minDate: [P], maxDate: [P], clickOpens: [function () { !0 === w.config.clickOpens ? (A(w._input, "focus", w.open), A(w._input, "click", w.open)) : (w._input.removeEventListener("focus", w.open), w._input.removeEventListener("click", w.open)) }] }; function me(e, t) { var n = []; if (e instanceof Array) n = e.map((function (e) { return w.parseDate(e, t) })); else if (e instanceof Date || "number" == typeof e) n = [w.parseDate(e, t)]; else if ("string" == typeof e) switch (w.config.mode) { case "single": case "time": n = [w.parseDate(e, t)]; break; case "multiple": n = e.split(w.config.conjunction).map((function (e) { return w.parseDate(e, t) })); break; case "range": n = e.split(w.l10n.rangeSeparator).map((function (e) { return w.parseDate(e, t) })) } else w.config.errorHandler(new Error("Invalid date supplied: " + JSON.stringify(e))); w.selectedDates = w.config.allowInvalidPreload ? n : n.filter((function (e) { return e instanceof Date && X(e, !1) })), "range" === w.config.mode && w.selectedDates.sort((function (e, t) { return e.getTime() - t.getTime() })) } function ge(e) { return e.slice().map((function (e) { return "string" == typeof e || "number" == typeof e || e instanceof Date ? w.parseDate(e, void 0, !0) : e && "object" == typeof e && e.from && e.to ? { from: w.parseDate(e.from, void 0), to: w.parseDate(e.to, void 0) } : e })).filter((function (e) { return e })) } function pe(e, t) { if (void 0 !== w.config) { var n = w.config[e]; if (void 0 !== n && n.length > 0) for (var a = 0; n[a] && a < n.length; a++)n[a](w.selectedDates, w.input.value, w, t); "onChange" === e && (w.input.dispatchEvent(he("change")), w.input.dispatchEvent(he("input"))) } } function he(e) { var t = document.createEvent("Event"); return t.initEvent(e, !0, !0), t } function ve(e) { for (var t = 0; t < w.selectedDates.length; t++)if (0 === M(w.selectedDates[t], e)) return "" + t; return !1 } function De() { w.config.noCalendar || w.isMobile || !w.monthNav || (w.yearElements.forEach((function (e, t) { var n = new Date(w.currentYear, w.currentMonth, 1); n.setMonth(w.currentMonth + t), w.config.showMonths > 1 || "static" === w.config.monthSelectorType ? w.monthElements[t].textContent = h(n.getMonth(), w.config.shorthandCurrentMonth, w.l10n) + " " : w.monthsDropdownContainer.value = n.getMonth().toString(), e.value = n.getFullYear().toString() })), w._hidePrevMonthArrow = void 0 !== w.config.minDate && (w.currentYear === w.config.minDate.getFullYear() ? w.currentMonth <= w.config.minDate.getMonth() : w.currentYear < w.config.minDate.getFullYear()), w._hideNextMonthArrow = void 0 !== w.config.maxDate && (w.currentYear === w.config.maxDate.getFullYear() ? w.currentMonth + 1 > w.config.maxDate.getMonth() : w.currentYear > w.config.maxDate.getFullYear())) } function we(e) { return w.selectedDates.map((function (t) { return w.formatDate(t, e) })).filter((function (e, t, n) { return "range" !== w.config.mode || w.config.enableTime || n.indexOf(e) === t })).join("range" !== w.config.mode ? w.config.conjunction : w.l10n.rangeSeparator) } function be(e) { void 0 === e && (e = !0), void 0 !== w.mobileInput && w.mobileFormatStr && (w.mobileInput.value = void 0 !== w.latestSelectedDateObj ? w.formatDate(w.latestSelectedDateObj, w.mobileFormatStr) : ""), w.input.value = we(w.config.dateFormat), void 0 !== w.altInput && (w.altInput.value = we(w.config.altFormat)), !1 !== e && pe("onValueUpdate") } function Ce(e) { var t = g(e), n = w.prevMonthNav.contains(t), a = w.nextMonthNav.contains(t); n || a ? G(n ? -1 : 1) : w.yearElements.indexOf(t) >= 0 ? t.select() : t.classList.contains("arrowUp") ? w.changeYear(w.currentYear + 1) : t.classList.contains("arrowDown") && w.changeYear(w.currentYear - 1) } return function () { w.element = w.input = p, w.isOpen = !1, function () { var t = ["wrap", "weekNumbers", "allowInput", "allowInvalidPreload", "clickOpens", "time_24hr", "enableTime", "noCalendar", "altInput", "shorthandCurrentMonth", "inline", "static", "enableSeconds", "disableMobile"], i = e(e({}, JSON.parse(JSON.stringify(p.dataset || {}))), v), o = {}; w.config.parseDate = i.parseDate, w.config.formatDate = i.formatDate, Object.defineProperty(w.config, "enable", { get: function () { return w.config._enable }, set: function (e) { w.config._enable = ge(e) } }), Object.defineProperty(w.config, "disable", { get: function () { return w.config._disable }, set: function (e) { w.config._disable = ge(e) } }); var r = "time" === i.mode; if (!i.dateFormat && (i.enableTime || r)) { var l = T.defaultConfig.dateFormat || a.dateFormat; o.dateFormat = i.noCalendar || r ? "H:i" + (i.enableSeconds ? ":S" : "") : l + " H:i" + (i.enableSeconds ? ":S" : "") } if (i.altInput && (i.enableTime || r) && !i.altFormat) { var d = T.defaultConfig.altFormat || a.altFormat; o.altFormat = i.noCalendar || r ? "h:i" + (i.enableSeconds ? ":S K" : " K") : d + " h:i" + (i.enableSeconds ? ":S" : "") + " K" } Object.defineProperty(w.config, "minDate", { get: function () { return w.config._minDate }, set: oe("min") }), Object.defineProperty(w.config, "maxDate", { get: function () { return w.config._maxDate }, set: oe("max") }); var s = function (e) { return function (t) { w.config["min" === e ? "_minTime" : "_maxTime"] = w.parseDate(t, "H:i:S") } }; Object.defineProperty(w.config, "minTime", { get: function () { return w.config._minTime }, set: s("min") }), Object.defineProperty(w.config, "maxTime", { get: function () { return w.config._maxTime }, set: s("max") }), "time" === i.mode && (w.config.noCalendar = !0, w.config.enableTime = !0); Object.assign(w.config, o, i); for (var u = 0; u < t.length; u++)w.config[t[u]] = !0 === w.config[t[u]] || "true" === w.config[t[u]]; n.filter((function (e) { return void 0 !== w.config[e] })).forEach((function (e) { w.config[e] = c(w.config[e] || []).map(E) })), w.isMobile = !w.config.disableMobile && !w.config.inline && "single" === w.config.mode && !w.config.disable.length && !w.config.enable && !w.config.weekNumbers && /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent); for (u = 0; u < w.config.plugins.length; u++) { var f = w.config.plugins[u](w) || {}; for (var m in f) n.indexOf(m) > -1 ? w.config[m] = c(f[m]).map(E).concat(w.config[m]) : void 0 === i[m] && (w.config[m] = f[m]) } i.altInputClass || (w.config.altInputClass = re().className + " " + w.config.altInputClass); pe("onParseConfig") }(), le(), function () { if (w.input = re(), !w.input) return void w.config.errorHandler(new Error("Invalid input element specified")); w.input._type = w.input.type, w.input.type = "text", w.input.classList.add("flatpickr-input"), w._input = w.input, w.config.altInput && (w.altInput = s(w.input.nodeName, w.config.altInputClass), w._input = w.altInput, w.altInput.placeholder = w.input.placeholder, w.altInput.disabled = w.input.disabled, w.altInput.required = w.input.required, w.altInput.tabIndex = w.input.tabIndex, w.altInput.type = "text", w.input.setAttribute("type", "hidden"), !w.config.static && w.input.parentNode && w.input.parentNode.insertBefore(w.altInput, w.input.nextSibling)); w.config.allowInput || w._input.setAttribute("readonly", "readonly"); w._positionElement = w.config.positionElement || w._input }(), function () { w.selectedDates = [], w.now = w.parseDate(w.config.now) || new Date; var e = w.config.defaultDate || ("INPUT" !== w.input.nodeName && "TEXTAREA" !== w.input.nodeName || !w.input.placeholder || w.input.value !== w.input.placeholder ? w.input.value : null); e && me(e, w.config.dateFormat); w._initialDate = w.selectedDates.length > 0 ? w.selectedDates[0] : w.config.minDate && w.config.minDate.getTime() > w.now.getTime() ? w.config.minDate : w.config.maxDate && w.config.maxDate.getTime() < w.now.getTime() ? w.config.maxDate : w.now, w.currentYear = w._initialDate.getFullYear(), w.currentMonth = w._initialDate.getMonth(), w.selectedDates.length > 0 && (w.latestSelectedDateObj = w.selectedDates[0]); void 0 !== w.config.minTime && (w.config.minTime = w.parseDate(w.config.minTime, "H:i")); void 0 !== w.config.maxTime && (w.config.maxTime = w.parseDate(w.config.maxTime, "H:i")); w.minDateHasTime = !!w.config.minDate && (w.config.minDate.getHours() > 0 || w.config.minDate.getMinutes() > 0 || w.config.minDate.getSeconds() > 0), w.maxDateHasTime = !!w.config.maxDate && (w.config.maxDate.getHours() > 0 || w.config.maxDate.getMinutes() > 0 || w.config.maxDate.getSeconds() > 0) }(), w.utils = { getDaysInMonth: function (e, t) { return void 0 === e && (e = w.currentMonth), void 0 === t && (t = w.currentYear), 1 === e && (t % 4 == 0 && t % 100 != 0 || t % 400 == 0) ? 29 : w.l10n.daysInMonth[e] } }, w.isMobile || function () { var e = window.document.createDocumentFragment(); if (w.calendarContainer = s("div", "flatpickr-calendar"), w.calendarContainer.tabIndex = -1, !w.config.noCalendar) { if (e.appendChild((w.monthNav = s("div", "flatpickr-months"), w.yearElements = [], w.monthElements = [], w.prevMonthNav = s("span", "flatpickr-prev-month"), w.prevMonthNav.innerHTML = w.config.prevArrow, w.nextMonthNav = s("span", "flatpickr-next-month"), w.nextMonthNav.innerHTML = w.config.nextArrow, q(), Object.defineProperty(w, "_hidePrevMonthArrow", { get: function () { return w.__hidePrevMonthArrow }, set: function (e) { w.__hidePrevMonthArrow !== e && (d(w.prevMonthNav, "flatpickr-disabled", e), w.__hidePrevMonthArrow = e) } }), Object.defineProperty(w, "_hideNextMonthArrow", { get: function () { return w.__hideNextMonthArrow }, set: function (e) { w.__hideNextMonthArrow !== e && (d(w.nextMonthNav, "flatpickr-disabled", e), w.__hideNextMonthArrow = e) } }), w.currentYearElement = w.yearElements[0], De(), w.monthNav)), w.innerContainer = s("div", "flatpickr-innerContainer"), w.config.weekNumbers) { var t = function () { w.calendarContainer.classList.add("hasWeeks"); var e = s("div", "flatpickr-weekwrapper"); e.appendChild(s("span", "flatpickr-weekday", w.l10n.weekAbbreviation)); var t = s("div", "flatpickr-weeks"); return e.appendChild(t), { weekWrapper: e, weekNumbers: t } }(), n = t.weekWrapper, a = t.weekNumbers; w.innerContainer.appendChild(n), w.weekNumbers = a, w.weekWrapper = n } w.rContainer = s("div", "flatpickr-rContainer"), w.rContainer.appendChild($()), w.daysContainer || (w.daysContainer = s("div", "flatpickr-days"), w.daysContainer.tabIndex = -1), J(), w.rContainer.appendChild(w.daysContainer), w.innerContainer.appendChild(w.rContainer), e.appendChild(w.innerContainer) } w.config.enableTime && e.appendChild(function () { w.calendarContainer.classList.add("hasTime"), w.config.noCalendar && w.calendarContainer.classList.add("noCalendar"); var e = x(w.config); w.timeContainer = s("div", "flatpickr-time"), w.timeContainer.tabIndex = -1; var t = s("span", "flatpickr-time-separator", ":"), n = m("flatpickr-hour", { "aria-label": w.l10n.hourAriaLabel }); w.hourElement = n.getElementsByTagName("input")[0]; var a = m("flatpickr-minute", { "aria-label": w.l10n.minuteAriaLabel }); w.minuteElement = a.getElementsByTagName("input")[0], w.hourElement.tabIndex = w.minuteElement.tabIndex = -1, w.hourElement.value = o(w.latestSelectedDateObj ? w.latestSelectedDateObj.getHours() : w.config.time_24hr ? e.hours : function (e) { switch (e % 24) { case 0: case 12: return 12; default: return e % 12 } }(e.hours)), w.minuteElement.value = o(w.latestSelectedDateObj ? w.latestSelectedDateObj.getMinutes() : e.minutes), w.hourElement.setAttribute("step", w.config.hourIncrement.toString()), w.minuteElement.setAttribute("step", w.config.minuteIncrement.toString()), w.hourElement.setAttribute("min", w.config.time_24hr ? "0" : "1"), w.hourElement.setAttribute("max", w.config.time_24hr ? "23" : "12"), w.hourElement.setAttribute("maxlength", "2"), w.minuteElement.setAttribute("min", "0"), w.minuteElement.setAttribute("max", "59"), w.minuteElement.setAttribute("maxlength", "2"), w.timeContainer.appendChild(n), w.timeContainer.appendChild(t), w.timeContainer.appendChild(a), w.config.time_24hr && w.timeContainer.classList.add("time24hr"); if (w.config.enableSeconds) { w.timeContainer.classList.add("hasSeconds"); var i = m("flatpickr-second"); w.secondElement = i.getElementsByTagName("input")[0], w.secondElement.value = o(w.latestSelectedDateObj ? w.latestSelectedDateObj.getSeconds() : e.seconds), w.secondElement.setAttribute("step", w.minuteElement.getAttribute("step")), w.secondElement.setAttribute("min", "0"), w.secondElement.setAttribute("max", "59"), w.secondElement.setAttribute("maxlength", "2"), w.timeContainer.appendChild(s("span", "flatpickr-time-separator", ":")), w.timeContainer.appendChild(i) } w.config.time_24hr || (w.amPM = s("span", "flatpickr-am-pm", w.l10n.amPM[r((w.latestSelectedDateObj ? w.hourElement.value : w.config.defaultHour) > 11)]), w.amPM.title = w.l10n.toggleTitle, w.amPM.tabIndex = -1, w.timeContainer.appendChild(w.amPM)); return w.timeContainer }()); d(w.calendarContainer, "rangeMode", "range" === w.config.mode), d(w.calendarContainer, "animate", !0 === w.config.animate), d(w.calendarContainer, "multiMonth", w.config.showMonths > 1), w.calendarContainer.appendChild(e); var i = void 0 !== w.config.appendTo && void 0 !== w.config.appendTo.nodeType; if ((w.config.inline || w.config.static) && (w.calendarContainer.classList.add(w.config.inline ? "inline" : "static"), w.config.inline && (!i && w.element.parentNode ? w.element.parentNode.insertBefore(w.calendarContainer, w._input.nextSibling) : void 0 !== w.config.appendTo && w.config.appendTo.appendChild(w.calendarContainer)), w.config.static)) { var l = s("div", "flatpickr-wrapper"); w.element.parentNode && w.element.parentNode.insertBefore(l, w.element), l.appendChild(w.element), w.altInput && l.appendChild(w.altInput), l.appendChild(w.calendarContainer) } w.config.static || w.config.inline || (void 0 !== w.config.appendTo ? w.config.appendTo : window.document.body).appendChild(w.calendarContainer) }(), function () { w.config.wrap && ["open", "close", "toggle", "clear"].forEach((function (e) { Array.prototype.forEach.call(w.element.querySelectorAll("[data-" + e + "]"), (function (t) { return A(t, "click", w[e]) })) })); if (w.isMobile) return void function () { var e = w.config.enableTime ? w.config.noCalendar ? "time" : "datetime-local" : "date"; w.mobileInput = s("input", w.input.className + " flatpickr-mobile"), w.mobileInput.tabIndex = 1, w.mobileInput.type = e, w.mobileInput.disabled = w.input.disabled, w.mobileInput.required = w.input.required, w.mobileInput.placeholder = w.input.placeholder, w.mobileFormatStr = "datetime-local" === e ? "Y-m-d\\TH:i:S" : "date" === e ? "Y-m-d" : "H:i:S", w.selectedDates.length > 0 && (w.mobileInput.defaultValue = w.mobileInput.value = w.formatDate(w.selectedDates[0], w.mobileFormatStr)); w.config.minDate && (w.mobileInput.min = w.formatDate(w.config.minDate, "Y-m-d")); w.config.maxDate && (w.mobileInput.max = w.formatDate(w.config.maxDate, "Y-m-d")); w.input.getAttribute("step") && (w.mobileInput.step = String(w.input.getAttribute("step"))); w.input.type = "hidden", void 0 !== w.altInput && (w.altInput.type = "hidden"); try { w.input.parentNode && w.input.parentNode.insertBefore(w.mobileInput, w.input.nextSibling) } catch (e) { } A(w.mobileInput, "change", (function (e) { w.setDate(g(e).value, !1, w.mobileFormatStr), pe("onChange"), pe("onClose") })) }(); var e = l(ie, 50); w._debouncedChange = l(N, 300), w.daysContainer && !/iPhone|iPad|iPod/i.test(navigator.userAgent) && A(w.daysContainer, "mouseover", (function (e) { "range" === w.config.mode && ae(g(e)) })); A(window.document.body, "keydown", ne), w.config.inline || w.config.static || A(window, "resize", e); void 0 !== window.ontouchstart ? A(window.document, "touchstart", Z) : A(window.document, "mousedown", Z); A(window.document, "focus", Z, { capture: !0 }), !0 === w.config.clickOpens && (A(w._input, "focus", w.open), A(w._input, "click", w.open)); void 0 !== w.daysContainer && (A(w.monthNav, "click", Ce), A(w.monthNav, ["keyup", "increment"], F), A(w.daysContainer, "click", ue)); if (void 0 !== w.timeContainer && void 0 !== w.minuteElement && void 0 !== w.hourElement) { var t = function (e) { return g(e).select() }; A(w.timeContainer, ["increment"], I), A(w.timeContainer, "blur", I, { capture: !0 }), A(w.timeContainer, "click", Y), A([w.hourElement, w.minuteElement], ["focus", "click"], t), void 0 !== w.secondElement && A(w.secondElement, "focus", (function () { return w.secondElement && w.secondElement.select() })), void 0 !== w.amPM && A(w.amPM, "click", (function (e) { I(e), N() })) } w.config.allowInput && A(w._input, "blur", te) }(), (w.selectedDates.length || w.config.noCalendar) && (w.config.enableTime && _(w.config.noCalendar ? w.latestSelectedDateObj : void 0), be(!1)), k(); var t = /^((?!chrome|android).)*safari/i.test(navigator.userAgent); !w.isMobile && t && ce(), pe("onReady") }(), w } function k(e, t) { for (var n = Array.prototype.slice.call(e).filter((function (e) { return e instanceof HTMLElement })), a = [], i = 0; i < n.length; i++) { var o = n[i]; try { if (null !== o.getAttribute("data-fp-omit")) continue; void 0 !== o._flatpickr && (o._flatpickr.destroy(), o._flatpickr = void 0), o._flatpickr = E(o, t || {}), a.push(o._flatpickr) } catch (e) { console.error(e) } } return 1 === a.length ? a[0] : a } "undefined" != typeof HTMLElement && "undefined" != typeof HTMLCollection && "undefined" != typeof NodeList && (HTMLCollection.prototype.flatpickr = NodeList.prototype.flatpickr = function (e) { return k(this, e) }, HTMLElement.prototype.flatpickr = function (e) { return k([this], e) }); var T = function (e, t) { return "string" == typeof e ? k(window.document.querySelectorAll(e), t) : e instanceof Node ? k([e], t) : k(e, t) }; return T.defaultConfig = {}, T.l10ns = { en: e({}, i), default: e({}, i) }, T.localize = function (t) { T.l10ns.default = e(e({}, T.l10ns.default), t) }, T.setDefaults = function (t) { T.defaultConfig = e(e({}, T.defaultConfig), t) }, T.parseDate = C({}), T.formatDate = b({}), T.compareDates = M, "undefined" != typeof jQuery && void 0 !== jQuery.fn && (jQuery.fn.flatpickr = function (e) { return k(this, e) }), Date.prototype.fp_incr = function (e) { return new Date(this.getFullYear(), this.getMonth(), this.getDate() + ("string" == typeof e ? parseInt(e, 10) : e)) }, "undefined" != typeof window && (window.flatpickr = T), T }));

//lightgallery.js
!function (e) { if ("object" == typeof exports && "undefined" != typeof module) module.exports = e(); else if ("function" == typeof define && define.amd) define([], e); else { var t; t = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this, t.Lightgallery = e() } }(function () { var e, t, s; return function () { function e(t, s, l) { function i(r, a) { if (!s[r]) { if (!t[r]) { var d = "function" == typeof require && require; if (!a && d) return d(r, !0); if (o) return o(r, !0); var n = new Error("Cannot find module '" + r + "'"); throw n.code = "MODULE_NOT_FOUND", n } var u = s[r] = { exports: {} }; t[r][0].call(u.exports, function (e) { return i(t[r][1][e] || e) }, u, u.exports, e, t, s, l) } return s[r].exports } for (var o = "function" == typeof require && require, r = 0; r < l.length; r++)i(l[r]); return i } return e }()({ 1: [function (t, s, l) { !function (t, s) { if ("function" == typeof e && e.amd) e(["exports"], s); else if (void 0 !== l) s(l); else { var i = { exports: {} }; s(i.exports), t.lgUtils = i.exports } }(this, function (e) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); var t = { getAttribute: function e(t, s) { return t[s] }, setAttribute: function e(t, s, l) { t[s] = l }, wrap: function e(t, s) { if (t) { var l = document.createElement("div"); l.className = s, t.parentNode.insertBefore(l, t), t.parentNode.removeChild(t), l.appendChild(t) } }, addClass: function e(t, s) { t && (t.classList ? t.classList.add(s) : t.className += " " + s) }, removeClass: function e(t, s) { t && (t.classList ? t.classList.remove(s) : t.className = t.className.replace(new RegExp("(^|\\b)" + s.split(" ").join("|") + "(\\b|$)", "gi"), " ")) }, hasClass: function e(t, s) { return t.classList ? t.classList.contains(s) : new RegExp("(^| )" + s + "( |$)", "gi").test(t.className) }, setVendor: function e(t, s, l) { t && (t.style[s.charAt(0).toLowerCase() + s.slice(1)] = l, t.style["webkit" + s] = l, t.style["moz" + s] = l, t.style["ms" + s] = l, t.style["o" + s] = l) }, trigger: function e(t, s) { var l = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null; if (t) { var i = new CustomEvent(s, { detail: l }); t.dispatchEvent(i) } }, Listener: { uid: 0 }, on: function e(s, l, i) { var o = this; s && l.split(" ").forEach(function (e) { var l = o.getAttribute(s, "lg-event-uid") || ""; t.Listener.uid++, l += "&" + t.Listener.uid, o.setAttribute(s, "lg-event-uid", l), t.Listener[e + t.Listener.uid] = i, s.addEventListener(e.split(".")[0], i, !1) }) }, off: function e(s, l) { if (s) { var i = this.getAttribute(s, "lg-event-uid"); if (i) { i = i.split("&"); for (var o = 0; o < i.length; o++)if (i[o]) { var r = l + i[o]; if ("." === r.substring(0, 1)) for (var a in t.Listener) t.Listener.hasOwnProperty(a) && a.split(".").indexOf(r.split(".")[1]) > -1 && (s.removeEventListener(a.split(".")[0], t.Listener[a]), this.setAttribute(s, "lg-event-uid", this.getAttribute(s, "lg-event-uid").replace("&" + i[o], "")), delete t.Listener[a]); else s.removeEventListener(r.split(".")[0], t.Listener[r]), this.setAttribute(s, "lg-event-uid", this.getAttribute(s, "lg-event-uid").replace("&" + i[o], "")), delete t.Listener[r] } } } }, param: function e(t) { return Object.keys(t).map(function (e) { return encodeURIComponent(e) + "=" + encodeURIComponent(t[e]) }).join("&") } }; e.default = t }) }, {}], 2: [function (t, s, l) { !function (s, i) { if ("function" == typeof e && e.amd) e(["./lg-utils"], i); else if (void 0 !== l) i(t("./lg-utils")); else { var o = { exports: {} }; i(s.lgUtils), s.lightgallery = o.exports } }(this, function (e) { "use strict"; function t(e) { return e && e.__esModule ? e : { default: e } } function s(e, t) { if (this.el = e, this.s = i({}, o, t), this.s.dynamic && "undefined" !== this.s.dynamicEl && this.s.dynamicEl.constructor === Array && !this.s.dynamicEl.length) throw "When using dynamic mode, you must also define dynamicEl as an Array."; return this.modules = {}, this.lGalleryOn = !1, this.lgBusy = !1, this.hideBartimeout = !1, this.isTouch = "ontouchstart" in document.documentElement, this.s.slideEndAnimatoin && (this.s.hideControlOnEnd = !1), this.items = [], this.s.dynamic ? this.items = this.s.dynamicEl : "this" === this.s.selector ? this.items.push(this.el) : "" !== this.s.selector ? this.s.selectWithin ? this.items = document.querySelector(this.s.selectWithin).querySelectorAll(this.s.selector) : this.items = this.el.querySelectorAll(this.s.selector) : this.items = this.el.children, this.___slide = "", this.outer = "", this.init(), this } var l = t(e), i = Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var s = arguments[t]; for (var l in s) Object.prototype.hasOwnProperty.call(s, l) && (e[l] = s[l]) } return e }; !function () { function e(e, t) { t = t || { bubbles: !1, cancelable: !1, detail: void 0 }; var s = document.createEvent("CustomEvent"); return s.initCustomEvent(e, t.bubbles, t.cancelable, t.detail), s } if ("function" == typeof window.CustomEvent) return !1; e.prototype = window.Event.prototype, window.CustomEvent = e }(), window.utils = l.default, window.lgData = { uid: 0 }, window.lgModules = {}; var o = { mode: "lg-slide", cssEasing: "ease", easing: "linear", speed: 600, height: "100%", width: "100%", addClass: "", startClass: "lg-start-zoom", backdropDuration: 150, hideBarsDelay: 6e3, useLeft: !1, ariaLabelledby: "", ariaDescribedby: "", closable: !0, loop: !0, escKey: !0, keyPress: !0, controls: !0, slideEndAnimatoin: !0, hideControlOnEnd: !1, mousewheel: !1, getCaptionFromTitleOrAlt: !0, appendSubHtmlTo: ".lg-sub-html", subHtmlSelectorRelative: !1, preload: 1, showAfterLoad: !0, selector: "", selectWithin: "", nextHtml: "", prevHtml: "", index: !1, iframeMaxWidth: "100%", download: !0, counter: !0, appendCounterTo: ".lg-toolbar", swipeThreshold: 50, enableSwipe: !0, enableDrag: !0, dynamic: !1, dynamicEl: [], galleryId: 1, supportLegacyBrowser: !0 }; s.prototype.init = function () { var e = this; e.s.preload > e.items.length && (e.s.preload = e.items.length); var t = window.location.hash; if (t.indexOf("lg=" + this.s.galleryId) > 0 && (e.index = parseInt(t.split("&slide=")[1], 10), l.default.addClass(document.body, "lg-from-hash"), l.default.hasClass(document.body, "lg-on") || (l.default.addClass(document.body, "lg-on"), setTimeout(function () { e.build(e.index) }))), e.s.dynamic) l.default.trigger(this.el, "onBeforeOpen"), e.index = e.s.index || 0, l.default.hasClass(document.body, "lg-on") || (l.default.addClass(document.body, "lg-on"), setTimeout(function () { e.build(e.index) })); else for (var s = 0; s < e.items.length; s++)!function (t) { l.default.on(e.items[t], "click.lgcustom", function (s) { s.preventDefault(), l.default.trigger(e.el, "onBeforeOpen"), e.index = e.s.index || t, l.default.hasClass(document.body, "lg-on") || (e.build(e.index), l.default.addClass(document.body, "lg-on")) }) }(s) }, s.prototype.build = function (e) { var t = this; t.structure(); for (var s in window.lgModules) t.modules[s] = new window.lgModules[s](t.el); if (t.slide(e, !1, !1), t.s.keyPress && t.keyPress(), t.items.length > 1 && (t.arrow(), setTimeout(function () { t.enableDrag(), t.enableSwipe() }, 50), t.s.mousewheel && t.mousewheel()), t.counter(), t.closeGallery(), l.default.trigger(t.el, "onAfterOpen"), t.s.hideBarsDelay > 0) { var i = setTimeout(function () { l.default.addClass(t.outer, "lg-hide-items") }, t.s.hideBarsDelay); l.default.on(t.outer, "mousemove.lg click.lg touchstart.lg", function () { clearTimeout(i), l.default.removeClass(t.outer, "lg-hide-items"), clearTimeout(t.hideBartimeout), t.hideBartimeout = setTimeout(function () { l.default.addClass(t.outer, "lg-hide-items") }, t.s.hideBarsDelay) }) } }, s.prototype.structure = function () { var e = "", t = "", s = 0, i = "", o, r = this; for (document.body.insertAdjacentHTML("beforeend", '<div class="lg-backdrop"></div>'), l.default.setVendor(document.querySelector(".lg-backdrop"), "TransitionDuration", this.s.backdropDuration + "ms"), s = 0; s < this.items.length; s++)e += '<div class="lg-item"></div>'; if (this.s.controls && this.items.length > 1 && (t = '<div class="lg-actions"><button type="button" aria-label="Previous slide" class="lg-prev lg-icon">' + this.s.prevHtml + '</button><button type="button" aria-label="Next slide" class="lg-next lg-icon">' + this.s.nextHtml + "</button></div>"), ".lg-sub-html" === this.s.appendSubHtmlTo && (i = '<div role="status" aria-live="polite" class="lg-sub-html"></div>'), o = '<div tabindex="-1" aria-modal="true" ' + (this.s.ariaLabelledby ? 'aria-labelledby="' + this.s.ariaLabelledby + '"' : "") + " " + (this.s.ariaDescribedby ? 'aria-describedby="' + this.s.ariaDescribedby + '"' : "") + ' role="dialog" class="lg-outer ' + this.s.addClass + " " + this.s.startClass + '"><div class="lg" style="width:' + this.s.width + "; height:" + this.s.height + '"><div class="lg-inner">' + e + '</div><div class="lg-toolbar lg-group"><button type="button" aria-label="Close gallery" class="lg-close lg-icon"></button></div>' + t + i + "</div></div>", document.body.insertAdjacentHTML("beforeend", o), this.outer = document.querySelector(".lg-outer"), this.outer.focus(), this.___slide = this.outer.querySelectorAll(".lg-item"), this.s.useLeft ? (l.default.addClass(this.outer, "lg-use-left"), this.s.mode = "lg-slide") : l.default.addClass(this.outer, "lg-use-css3"), r.setTop(), l.default.on(window, "resize.lg orientationchange.lg", function () { setTimeout(function () { r.setTop() }, 100) }), l.default.addClass(this.___slide[this.index], "lg-current"), this.doCss() ? l.default.addClass(this.outer, "lg-css3") : (l.default.addClass(this.outer, "lg-css"), this.s.speed = 0), l.default.addClass(this.outer, this.s.mode), this.s.enableDrag && this.items.length > 1 && l.default.addClass(this.outer, "lg-grab"), this.s.showAfterLoad && l.default.addClass(this.outer, "lg-show-after-load"), this.doCss()) { var a = this.outer.querySelector(".lg-inner"); l.default.setVendor(a, "TransitionTimingFunction", this.s.cssEasing), l.default.setVendor(a, "TransitionDuration", this.s.speed + "ms") } setTimeout(function () { l.default.addClass(document.querySelector(".lg-backdrop"), "in") }), setTimeout(function () { l.default.addClass(r.outer, "lg-visible") }, this.s.backdropDuration), this.s.download && this.outer.querySelector(".lg-toolbar").insertAdjacentHTML("beforeend", '<a id="lg-download" aria-label="Download" target="_blank" download class="lg-download lg-icon"></a>'), this.prevScrollTop = document.documentElement.scrollTop || document.body.scrollTop }, s.prototype.setTop = function () { if ("100%" !== this.s.height) { var e = window.innerHeight, t = (e - parseInt(this.s.height, 10)) / 2, s = this.outer.querySelector(".lg"); e >= parseInt(this.s.height, 10) ? s.style.top = t + "px" : s.style.top = "0px" } }, s.prototype.doCss = function () { return !!function e() { var t = ["transition", "MozTransition", "WebkitTransition", "OTransition", "msTransition", "KhtmlTransition"], s = document.documentElement, l = 0; for (l = 0; l < t.length; l++)if (t[l] in s.style) return !0 }() }, s.prototype.isVideo = function (e, t) { var s; if (s = this.s.dynamic ? this.s.dynamicEl[t].html : this.items[t].getAttribute("data-html"), !e && s) return { html5: !0 }; var l = e.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com|be-nocookie\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-\_\%]+)/i), i = e.match(/\/\/(?:www\.)?(?:player\.)?vimeo.com\/(?:video\/)?([0-9a-z\-_]+)/i), o = e.match(/\/\/(?:www\.)?dai.ly\/([0-9a-z\-_]+)/i), r = e.match(/\/\/(?:www\.)?(?:vk\.com|vkontakte\.ru)\/(?:video_ext\.php\?)(.*)/i); return l ? { youtube: l } : i ? { vimeo: i } : o ? { dailymotion: o } : r ? { vk: r } : void 0 }, s.prototype.counter = function () { this.s.counter && this.outer.querySelector(this.s.appendCounterTo).insertAdjacentHTML("beforeend", '<div id="lg-counter" role="status" aria-live="polite"><span id="lg-counter-current">' + (parseInt(this.index, 10) + 1) + '</span> / <span id="lg-counter-all">' + this.items.length + "</span></div>") }, s.prototype.addHtml = function (e) { var t = null, s; if (this.s.dynamic ? t = this.s.dynamicEl[e].subHtml : (s = this.items[e], t = s.getAttribute("data-sub-html"), this.s.getCaptionFromTitleOrAlt && !t && (t = s.getAttribute("title")) && s.querySelector("img") && (t = s.querySelector("img").getAttribute("alt"))), void 0 !== t && null !== t) { var i = t.substring(0, 1); "." !== i && "#" !== i || (t = this.s.subHtmlSelectorRelative && !this.s.dynamic ? s.querySelector(t).innerHTML : document.querySelector(t).innerHTML) } else t = ""; ".lg-sub-html" === this.s.appendSubHtmlTo ? this.outer.querySelector(this.s.appendSubHtmlTo).innerHTML = t : this.___slide[e].insertAdjacentHTML("beforeend", t), void 0 !== t && null !== t && ("" === t ? l.default.addClass(this.outer.querySelector(this.s.appendSubHtmlTo), "lg-empty-html") : l.default.removeClass(this.outer.querySelector(this.s.appendSubHtmlTo), "lg-empty-html")), l.default.trigger(this.el, "onAfterAppendSubHtml", { index: e }) }, s.prototype.preload = function (e) { var t = 1, s = 1; for (t = 1; t <= this.s.preload && !(t >= this.items.length - e); t++)this.loadContent(e + t, !1, 0); for (s = 1; s <= this.s.preload && !(e - s < 0); s++)this.loadContent(e - s, !1, 0) }, s.prototype.loadContent = function (e, t, s) { var i = this, o = !1, r, a, d, n, u, c, g, f = function e(t) { for (var s = [], l = [], i = 0; i < t.length; i++) { var o = t[i].split(" "); "" === o[0] && o.splice(0, 1), l.push(o[0]), s.push(o[1]) } for (var r = window.innerWidth, d = 0; d < s.length; d++)if (parseInt(s[d], 10) > r) { a = l[d]; break } }; if (i.s.dynamic) { if (i.s.dynamicEl[e].poster && (o = !0, d = i.s.dynamicEl[e].poster), c = i.s.dynamicEl[e].html, a = i.s.dynamicEl[e].src, g = i.s.dynamicEl[e].alt, i.s.dynamicEl[e].responsive) { f(i.s.dynamicEl[e].responsive.split(",")) } n = i.s.dynamicEl[e].srcset, u = i.s.dynamicEl[e].sizes } else { if (i.items[e].getAttribute("data-poster") && (o = !0, d = i.items[e].getAttribute("data-poster")), c = i.items[e].getAttribute("data-html"), a = i.items[e].getAttribute("href") || i.items[e].getAttribute("data-src"), g = i.items[e].getAttribute("title"), i.items[e].querySelector("img") && (g = g || i.items[e].querySelector("img").getAttribute("alt")), i.items[e].getAttribute("data-responsive")) { f(i.items[e].getAttribute("data-responsive").split(",")) } n = i.items[e].getAttribute("data-srcset"), u = i.items[e].getAttribute("data-sizes") } var h = !1; i.s.dynamic ? i.s.dynamicEl[e].iframe && (h = !0) : "true" === i.items[e].getAttribute("data-iframe") && (h = !0); var m = i.isVideo(a, e); if (!l.default.hasClass(i.___slide[e], "lg-loaded")) { if (h) i.___slide[e].insertAdjacentHTML("afterbegin", '<div class="lg-video-cont" style="max-width:' + i.s.iframeMaxWidth + '"><div class="lg-video"><iframe class="lg-object" frameborder="0" src="' + a + '"  allowfullscreen="true"></iframe></div></div>'); else if (o) { var p = ""; p = m && m.youtube ? "lg-has-youtube" : m && m.vimeo ? "lg-has-vimeo" : "lg-has-html5", i.___slide[e].insertAdjacentHTML("beforeend", '<div class="lg-video-cont ' + p + ' "><div class="lg-video"><span class="lg-video-play"></span><img class="lg-object lg-has-poster" src="' + d + '" /></div></div>') } else m ? (i.___slide[e].insertAdjacentHTML("beforeend", '<div class="lg-video-cont "><div class="lg-video"></div></div>'), l.default.trigger(i.el, "hasVideo", { index: e, src: a, html: c })) : (g = g ? 'alt="' + g + '"' : "", i.___slide[e].insertAdjacentHTML("beforeend", '<div class="lg-img-wrap"><img class="lg-object lg-image" ' + g + ' src="' + a + '" /></div>')); if (l.default.trigger(i.el, "onAferAppendSlide", { index: e }), r = i.___slide[e].querySelector(".lg-object"), u && r.setAttribute("sizes", u), n && (r.setAttribute("srcset", n), this.s.supportLegacyBrowser)) try { picturefill({ elements: [r[0]] }) } catch (e) { console.warn("If you want srcset to be supported for older browsers, please include picturefil javascript library in your document.") } ".lg-sub-html" !== this.s.appendSubHtmlTo && i.addHtml(e), l.default.addClass(i.___slide[e], "lg-loaded") } l.default.on(i.___slide[e].querySelector(".lg-object"), "load.lg error.lg", function () { var t = 0; s && !l.default.hasClass(document.body, "lg-from-hash") && (t = s), setTimeout(function () { l.default.addClass(i.___slide[e], "lg-complete"), l.default.trigger(i.el, "onSlideItemLoad", { index: e, delay: s || 0 }) }, t) }), m && m.html5 && !o && l.default.addClass(i.___slide[e], "lg-complete"), !0 === t && (l.default.hasClass(i.___slide[e], "lg-complete") ? i.preload(e) : l.default.on(i.___slide[e].querySelector(".lg-object"), "load.lg error.lg", function () { i.preload(e) })) }, s.prototype.slide = function (e, t, s) { for (var i = 0, o = 0; o < this.___slide.length; o++)if (l.default.hasClass(this.___slide[o], "lg-current")) { i = o; break } var r = this; if (!r.lGalleryOn || i !== e) { var a = this.___slide.length, d = r.lGalleryOn ? this.s.speed : 0, n = !1, u = !1; if (!r.lgBusy) { if (this.s.download) { var c; c = r.s.dynamic ? !1 !== r.s.dynamicEl[e].downloadUrl && (r.s.dynamicEl[e].downloadUrl || r.s.dynamicEl[e].src) : "false" !== r.items[e].getAttribute("data-download-url") && (r.items[e].getAttribute("data-download-url") || r.items[e].getAttribute("href") || r.items[e].getAttribute("data-src")), c ? (document.getElementById("lg-download").setAttribute("href", c), l.default.removeClass(r.outer, "lg-hide-download")) : l.default.addClass(r.outer, "lg-hide-download") } if (l.default.trigger(r.el, "onBeforeSlide", { prevIndex: i, index: e, fromTouch: t, fromThumb: s }), r.lgBusy = !0, clearTimeout(r.hideBartimeout), ".lg-sub-html" === this.s.appendSubHtmlTo && setTimeout(function () { r.addHtml(e) }, d), this.arrowDisable(e), t) { var g = e - 1, f = e + 1; 0 === e && i === a - 1 ? (f = 0, g = a - 1) : e === a - 1 && 0 === i && (f = 0, g = a - 1), l.default.removeClass(r.outer.querySelector(".lg-prev-slide"), "lg-prev-slide"), l.default.removeClass(r.outer.querySelector(".lg-current"), "lg-current"), l.default.removeClass(r.outer.querySelector(".lg-next-slide"), "lg-next-slide"), l.default.addClass(r.___slide[g], "lg-prev-slide"), l.default.addClass(r.___slide[f], "lg-next-slide"), l.default.addClass(r.___slide[e], "lg-current") } else { l.default.addClass(r.outer, "lg-no-trans"); for (var h = 0; h < this.___slide.length; h++)l.default.removeClass(this.___slide[h], "lg-prev-slide"), l.default.removeClass(this.___slide[h], "lg-next-slide"); e < i ? (u = !0, 0 !== e || i !== a - 1 || s || (u = !1, n = !0)) : e > i && (n = !0, e !== a - 1 || 0 !== i || s || (u = !0, n = !1)), u ? (l.default.addClass(this.___slide[e], "lg-prev-slide"), l.default.addClass(this.___slide[i], "lg-next-slide")) : n && (l.default.addClass(this.___slide[e], "lg-next-slide"), l.default.addClass(this.___slide[i], "lg-prev-slide")), setTimeout(function () { l.default.removeClass(r.outer.querySelector(".lg-current"), "lg-current"), l.default.addClass(r.___slide[e], "lg-current"), l.default.removeClass(r.outer, "lg-no-trans") }, 50) } r.lGalleryOn ? (setTimeout(function () { r.loadContent(e, !0, 0) }, this.s.speed + 50), setTimeout(function () { r.lgBusy = !1, l.default.trigger(r.el, "onAfterSlide", { prevIndex: i, index: e, fromTouch: t, fromThumb: s }) }, this.s.speed)) : (r.loadContent(e, !0, r.s.backdropDuration), r.lgBusy = !1, l.default.trigger(r.el, "onAfterSlide", { prevIndex: i, index: e, fromTouch: t, fromThumb: s })), r.lGalleryOn = !0, this.s.counter && document.getElementById("lg-counter-current") && (document.getElementById("lg-counter-current").innerHTML = e + 1) } } }, s.prototype.goToNextSlide = function (e) { var t = this; t.lgBusy || (t.index + 1 < t.___slide.length ? (t.index++, l.default.trigger(t.el, "onBeforeNextSlide", { index: t.index }), t.slide(t.index, e, !1)) : t.s.loop ? (t.index = 0, l.default.trigger(t.el, "onBeforeNextSlide", { index: t.index }), t.slide(t.index, e, !1)) : t.s.slideEndAnimatoin && (l.default.addClass(t.outer, "lg-right-end"), setTimeout(function () { l.default.removeClass(t.outer, "lg-right-end") }, 400))) }, s.prototype.goToPrevSlide = function (e) { var t = this; t.lgBusy || (t.index > 0 ? (t.index--, l.default.trigger(t.el, "onBeforePrevSlide", { index: t.index, fromTouch: e }), t.slide(t.index, e, !1)) : t.s.loop ? (t.index = t.items.length - 1, l.default.trigger(t.el, "onBeforePrevSlide", { index: t.index, fromTouch: e }), t.slide(t.index, e, !1)) : t.s.slideEndAnimatoin && (l.default.addClass(t.outer, "lg-left-end"), setTimeout(function () { l.default.removeClass(t.outer, "lg-left-end") }, 400))) }, s.prototype.keyPress = function () { var e = this; this.items.length > 1 && l.default.on(window, "keyup.lg", function (t) { e.items.length > 1 && (37 === t.keyCode && (t.preventDefault(), e.goToPrevSlide()), 39 === t.keyCode && (t.preventDefault(), e.goToNextSlide())) }), l.default.on(window, "keydown.lg", function (t) { !0 === e.s.escKey && 27 === t.keyCode && (t.preventDefault(), l.default.hasClass(e.outer, "lg-thumb-open") ? l.default.removeClass(e.outer, "lg-thumb-open") : e.destroy()) }) }, s.prototype.arrow = function () { var e = this; l.default.on(this.outer.querySelector(".lg-prev"), "click.lg", function () { e.goToPrevSlide() }), l.default.on(this.outer.querySelector(".lg-next"), "click.lg", function () { e.goToNextSlide() }) }, s.prototype.arrowDisable = function (e) { if (!this.s.loop && this.s.hideControlOnEnd) { var t = this.outer.querySelector(".lg-next"), s = this.outer.querySelector(".lg-prev"); e + 1 < this.___slide.length ? (t.removeAttribute("disabled"), l.default.removeClass(t, "disabled")) : (t.setAttribute("disabled", "disabled"), l.default.addClass(t, "disabled")), e > 0 ? (s.removeAttribute("disabled"), l.default.removeClass(s, "disabled")) : (s.setAttribute("disabled", "disabled"), l.default.addClass(s, "disabled")) } }, s.prototype.setTranslate = function (e, t, s) { this.s.useLeft ? e.style.left = t : l.default.setVendor(e, "Transform", "translate3d(" + t + "px, " + s + "px, 0px)") }, s.prototype.touchMove = function (e, t) { var s = t - e; Math.abs(s) > 15 && (l.default.addClass(this.outer, "lg-dragging"), this.setTranslate(this.___slide[this.index], s, 0), this.setTranslate(document.querySelector(".lg-prev-slide"), -this.___slide[this.index].clientWidth + s, 0), this.setTranslate(document.querySelector(".lg-next-slide"), this.___slide[this.index].clientWidth + s, 0)) }, s.prototype.touchEnd = function (e) { var t = this; "lg-slide" !== t.s.mode && l.default.addClass(t.outer, "lg-slide"); for (var s = 0; s < this.___slide.length; s++)l.default.hasClass(this.___slide[s], "lg-current") || l.default.hasClass(this.___slide[s], "lg-prev-slide") || l.default.hasClass(this.___slide[s], "lg-next-slide") || (this.___slide[s].style.opacity = "0"); setTimeout(function () { l.default.removeClass(t.outer, "lg-dragging"), e < 0 && Math.abs(e) > t.s.swipeThreshold ? t.goToNextSlide(!0) : e > 0 && Math.abs(e) > t.s.swipeThreshold ? t.goToPrevSlide(!0) : Math.abs(e) < 5 && l.default.trigger(t.el, "onSlideClick"); for (var s = 0; s < t.___slide.length; s++)t.___slide[s].removeAttribute("style") }), setTimeout(function () { l.default.hasClass(t.outer, "lg-dragging") || "lg-slide" === t.s.mode || l.default.removeClass(t.outer, "lg-slide") }, t.s.speed + 100) }, s.prototype.enableSwipe = function () { var e = this, t = 0, s = 0, i = !1; if (e.s.enableSwipe && e.isTouch && e.doCss()) { for (var o = 0; o < e.___slide.length; o++)l.default.on(e.___slide[o], "touchstart.lg", function (s) { l.default.hasClass(e.outer, "lg-zoomed") || e.lgBusy || (s.preventDefault(), e.manageSwipeClass(), t = s.targetTouches[0].pageX) }); for (var r = 0; r < e.___slide.length; r++)l.default.on(e.___slide[r], "touchmove.lg", function (o) { l.default.hasClass(e.outer, "lg-zoomed") || (o.preventDefault(), s = o.targetTouches[0].pageX, e.touchMove(t, s), i = !0) }); for (var a = 0; a < e.___slide.length; a++)l.default.on(e.___slide[a], "touchend.lg", function () { l.default.hasClass(e.outer, "lg-zoomed") || (i ? (i = !1, e.touchEnd(s - t)) : l.default.trigger(e.el, "onSlideClick")) }) } }, s.prototype.enableDrag = function () { var e = this, t = 0, s = 0, i = !1, o = !1; if (e.s.enableDrag && !e.isTouch && e.doCss()) { for (var r = 0; r < e.___slide.length; r++)l.default.on(e.___slide[r], "mousedown.lg", function (s) { l.default.hasClass(e.outer, "lg-zoomed") || (l.default.hasClass(s.target, "lg-object") || l.default.hasClass(s.target, "lg-video-play")) && (s.preventDefault(), e.lgBusy || (e.manageSwipeClass(), t = s.pageX, i = !0, e.outer.scrollLeft += 1, e.outer.scrollLeft -= 1, l.default.removeClass(e.outer, "lg-grab"), l.default.addClass(e.outer, "lg-grabbing"), l.default.trigger(e.el, "onDragstart"))) }); l.default.on(window, "mousemove.lg", function (r) { i && (o = !0, s = r.pageX, e.touchMove(t, s), l.default.trigger(e.el, "onDragmove")) }), l.default.on(window, "mouseup.lg", function (r) { o ? (o = !1, e.touchEnd(s - t), l.default.trigger(e.el, "onDragend")) : (l.default.hasClass(r.target, "lg-object") || l.default.hasClass(r.target, "lg-video-play")) && l.default.trigger(e.el, "onSlideClick"), i && (i = !1, l.default.removeClass(e.outer, "lg-grabbing"), l.default.addClass(e.outer, "lg-grab")) }) } }, s.prototype.manageSwipeClass = function () { var e = this.index + 1, t = this.index - 1, s = this.___slide.length; this.s.loop && (0 === this.index ? t = s - 1 : this.index === s - 1 && (e = 0)); for (var i = 0; i < this.___slide.length; i++)l.default.removeClass(this.___slide[i], "lg-next-slide"), l.default.removeClass(this.___slide[i], "lg-prev-slide"); t > -1 && l.default.addClass(this.___slide[t], "lg-prev-slide"), l.default.addClass(this.___slide[e], "lg-next-slide") }, s.prototype.mousewheel = function () { var e = this; l.default.on(e.outer, "mousewheel.lg", function (t) { t.deltaY && (t.deltaY > 0 ? e.goToPrevSlide() : e.goToNextSlide(), t.preventDefault()) }) }, s.prototype.closeGallery = function () { var e = this, t = !1; l.default.on(this.outer.querySelector(".lg-close"), "click.lg", function () { e.destroy() }), e.s.closable && (l.default.on(e.outer, "mousedown.lg", function (e) { t = !!(l.default.hasClass(e.target, "lg-outer") || l.default.hasClass(e.target, "lg-item") || l.default.hasClass(e.target, "lg-img-wrap")) }), l.default.on(e.outer, "mouseup.lg", function (s) { (l.default.hasClass(s.target, "lg-outer") || l.default.hasClass(s.target, "lg-item") || l.default.hasClass(s.target, "lg-img-wrap") && t) && (l.default.hasClass(e.outer, "lg-dragging") || e.destroy()) })) }, s.prototype.destroy = function (e) { var t = this; if (e || l.default.trigger(t.el, "onBeforeClose"), document.body.scrollTop = t.prevScrollTop, document.documentElement.scrollTop = t.prevScrollTop, e) { if (!t.s.dynamic) for (var s = 0; s < this.items.length; s++)l.default.off(this.items[s], ".lg"), l.default.off(this.items[s], ".lgcustom"); var i = t.el.getAttribute("lg-uid"); delete window.lgData[i], t.el.removeAttribute("lg-uid") } l.default.off(this.el, ".lgtm"); for (var o in window.lgModules) t.modules[o] && t.modules[o].destroy(e); this.lGalleryOn = !1, clearTimeout(t.hideBartimeout), this.hideBartimeout = !1, l.default.off(window, ".lg"), l.default.removeClass(document.body, "lg-on"), l.default.removeClass(document.body, "lg-from-hash"), t.outer && l.default.removeClass(t.outer, "lg-visible"), l.default.removeClass(document.querySelector(".lg-backdrop"), "in"), setTimeout(function () { try { t.outer && t.outer.parentNode.removeChild(t.outer), document.querySelector(".lg-backdrop") && document.querySelector(".lg-backdrop").parentNode.removeChild(document.querySelector(".lg-backdrop")), e || l.default.trigger(t.el, "onCloseAfter"), t.el.focus() } catch (e) { } }, t.s.backdropDuration + 50) }, window.lightGallery = function (e, t) { if (e) try { if (e.getAttribute("lg-uid")) window.lgData[e.getAttribute("lg-uid")].init(); else { var l = "lg" + window.lgData.uid++; window.lgData[l] = new s(e, t), e.setAttribute("lg-uid", l) } } catch (e) { console.error("lightGallery has not initiated properly", e) } } }) }, { "./lg-utils": 1 }] }, {}, [2])(2) });
var tns = function () { Object.keys || (Object.keys = function (t) { var e = []; for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && e.push(n); return e }), "remove" in Element.prototype || (Element.prototype.remove = function () { this.parentNode && this.parentNode.removeChild(this) }); var t = window, Oi = t.requestAnimationFrame || t.webkitRequestAnimationFrame || t.mozRequestAnimationFrame || t.msRequestAnimationFrame || function (t) { return setTimeout(t, 16) }, e = window, Di = e.cancelAnimationFrame || e.mozCancelAnimationFrame || function (t) { clearTimeout(t) }; function Hi() { for (var t, e, n, i = arguments[0] || {}, a = 1, r = arguments.length; a < r; a++)if (null !== (t = arguments[a])) for (e in t) i !== (n = t[e]) && void 0 !== n && (i[e] = n); return i } function ki(t) { return 0 <= ["true", "false"].indexOf(t) ? JSON.parse(t) : t } function Ri(t, e, n, i) { if (i) try { t.setItem(e, n) } catch (t) { } return n } function Ii() { var t = document, e = t.body; return e || ((e = t.createElement("body")).fake = !0), e } var n = document.documentElement; function Pi(t) { var e = ""; return t.fake && (e = n.style.overflow, t.style.background = "", t.style.overflow = n.style.overflow = "hidden", n.appendChild(t)), e } function zi(t, e) { t.fake && (t.remove(), n.style.overflow = e, n.offsetHeight) } function Wi(t, e, n, i) { "insertRule" in t ? t.insertRule(e + "{" + n + "}", i) : t.addRule(e, n, i) } function Fi(t) { return ("insertRule" in t ? t.cssRules : t.rules).length } function qi(t, e, n) { for (var i = 0, a = t.length; i < a; i++)e.call(n, t[i], i) } var i = "classList" in document.createElement("_"), ji = i ? function (t, e) { return t.classList.contains(e) } : function (t, e) { return 0 <= t.className.indexOf(e) }, Vi = i ? function (t, e) { ji(t, e) || t.classList.add(e) } : function (t, e) { ji(t, e) || (t.className += " " + e) }, Gi = i ? function (t, e) { ji(t, e) && t.classList.remove(e) } : function (t, e) { ji(t, e) && (t.className = t.className.replace(e, "")) }; function Qi(t, e) { return t.hasAttribute(e) } function Xi(t, e) { return t.getAttribute(e) } function r(t) { return void 0 !== t.item } function Yi(t, e) { if (t = r(t) || t instanceof Array ? t : [t], "[object Object]" === Object.prototype.toString.call(e)) for (var n = t.length; n--;)for (var i in e) t[n].setAttribute(i, e[i]) } function Ki(t, e) { t = r(t) || t instanceof Array ? t : [t]; for (var n = (e = e instanceof Array ? e : [e]).length, i = t.length; i--;)for (var a = n; a--;)t[i].removeAttribute(e[a]) } function Ji(t) { for (var e = [], n = 0, i = t.length; n < i; n++)e.push(t[n]); return e } function Ui(t, e) { "none" !== t.style.display && (t.style.display = "none") } function _i(t, e) { "none" === t.style.display && (t.style.display = "") } function Zi(t) { return "none" !== window.getComputedStyle(t).display } function $i(e) { if ("string" == typeof e) { var n = [e], i = e.charAt(0).toUpperCase() + e.substr(1);["Webkit", "Moz", "ms", "O"].forEach(function (t) { "ms" === t && "transform" !== e || n.push(t + i) }), e = n } for (var t = document.createElement("fakeelement"), a = (e.length, 0); a < e.length; a++) { var r = e[a]; if (void 0 !== t.style[r]) return r } return !1 } function ta(t, e) { var n = !1; return /^Webkit/.test(t) ? n = "webkit" + e + "End" : /^O/.test(t) ? n = "o" + e + "End" : t && (n = e.toLowerCase() + "end"), n } var a = !1; try { var o = Object.defineProperty({}, "passive", { get: function () { a = !0 } }); window.addEventListener("test", null, o) } catch (t) { } var u = !!a && { passive: !0 }; function ea(t, e, n) { for (var i in e) { var a = 0 <= ["touchstart", "touchmove"].indexOf(i) && !n && u; t.addEventListener(i, e[i], a) } } function na(t, e) { for (var n in e) { var i = 0 <= ["touchstart", "touchmove"].indexOf(n) && u; t.removeEventListener(n, e[n], i) } } function ia() { return { topics: {}, on: function (t, e) { this.topics[t] = this.topics[t] || [], this.topics[t].push(e) }, off: function (t, e) { if (this.topics[t]) for (var n = 0; n < this.topics[t].length; n++)if (this.topics[t][n] === e) { this.topics[t].splice(n, 1); break } }, emit: function (e, n) { n.type = e, this.topics[e] && this.topics[e].forEach(function (t) { t(n, e) }) } } } var aa = function (O) { O = Hi({ container: ".slider", mode: "carousel", axis: "horizontal", items: 1, gutter: 0, edgePadding: 0, fixedWidth: !1, autoWidth: !1, viewportMax: !1, slideBy: 1, center: !1, controls: !0, controlsPosition: "top", controlsText: ["prev", "next"], controlsContainer: !1, prevButton: !1, nextButton: !1, nav: !0, navPosition: "top", navContainer: !1, navAsThumbnails: !1, arrowKeys: !1, speed: 300, autoplay: !1, autoplayPosition: "top", autoplayTimeout: 5e3, autoplayDirection: "forward", autoplayText: ["start", "stop"], autoplayHoverPause: !1, autoplayButton: !1, autoplayButtonOutput: !0, autoplayResetOnVisibility: !0, animateIn: "tns-fadeIn", animateOut: "tns-fadeOut", animateNormal: "tns-normal", animateDelay: !1, loop: !0, rewind: !1, autoHeight: !1, responsive: !1, lazyload: !1, lazyloadSelector: ".tns-lazy-img", touch: !0, mouseDrag: !1, swipeAngle: 15, nested: !1, preventActionWhenRunning: !1, preventScrollOnTouch: !1, freezable: !0, onInit: !1, useLocalStorage: !0 }, O || {}); var D = document, h = window, a = { ENTER: 13, SPACE: 32, LEFT: 37, RIGHT: 39 }, e = {}, n = O.useLocalStorage; if (n) { var t = navigator.userAgent, i = new Date; try { (e = h.localStorage) ? (e.setItem(i, i), n = e.getItem(i) == i, e.removeItem(i)) : n = !1, n || (e = {}) } catch (t) { n = !1 } n && (e.tnsApp && e.tnsApp !== t && ["tC", "tPL", "tMQ", "tTf", "t3D", "tTDu", "tTDe", "tADu", "tADe", "tTE", "tAE"].forEach(function (t) { e.removeItem(t) }), localStorage.tnsApp = t) } var r, o, u, l, s, c, f, y = e.tC ? ki(e.tC) : Ri(e, "tC", function () { var t = document, e = Ii(), n = Pi(e), i = t.createElement("div"), a = !1; e.appendChild(i); try { for (var r, o = "(10px * 10)", u = ["calc" + o, "-moz-calc" + o, "-webkit-calc" + o], l = 0; l < 3; l++)if (r = u[l], i.style.width = r, 100 === i.offsetWidth) { a = r.replace(o, ""); break } } catch (t) { } return e.fake ? zi(e, n) : i.remove(), a }(), n), g = e.tPL ? ki(e.tPL) : Ri(e, "tPL", function () { var t, e = document, n = Ii(), i = Pi(n), a = e.createElement("div"), r = e.createElement("div"), o = ""; a.className = "tns-t-subp2", r.className = "tns-t-ct"; for (var u = 0; u < 70; u++)o += "<div></div>"; return r.innerHTML = o, a.appendChild(r), n.appendChild(a), t = Math.abs(a.getBoundingClientRect().left - r.children[67].getBoundingClientRect().left) < 2, n.fake ? zi(n, i) : a.remove(), t }(), n), H = e.tMQ ? ki(e.tMQ) : Ri(e, "tMQ", (o = document, u = Ii(), l = Pi(u), s = o.createElement("div"), c = o.createElement("style"), f = "@media all and (min-width:1px){.tns-mq-test{position:absolute}}", c.type = "text/css", s.className = "tns-mq-test", u.appendChild(c), u.appendChild(s), c.styleSheet ? c.styleSheet.cssText = f : c.appendChild(o.createTextNode(f)), r = window.getComputedStyle ? window.getComputedStyle(s).position : s.currentStyle.position, u.fake ? zi(u, l) : s.remove(), "absolute" === r), n), d = e.tTf ? ki(e.tTf) : Ri(e, "tTf", $i("transform"), n), v = e.t3D ? ki(e.t3D) : Ri(e, "t3D", function (t) { if (!t) return !1; if (!window.getComputedStyle) return !1; var e, n = document, i = Ii(), a = Pi(i), r = n.createElement("p"), o = 9 < t.length ? "-" + t.slice(0, -9).toLowerCase() + "-" : ""; return o += "transform", i.insertBefore(r, null), r.style[t] = "translate3d(1px,1px,1px)", e = window.getComputedStyle(r).getPropertyValue(o), i.fake ? zi(i, a) : r.remove(), void 0 !== e && 0 < e.length && "none" !== e }(d), n), x = e.tTDu ? ki(e.tTDu) : Ri(e, "tTDu", $i("transitionDuration"), n), p = e.tTDe ? ki(e.tTDe) : Ri(e, "tTDe", $i("transitionDelay"), n), b = e.tADu ? ki(e.tADu) : Ri(e, "tADu", $i("animationDuration"), n), m = e.tADe ? ki(e.tADe) : Ri(e, "tADe", $i("animationDelay"), n), C = e.tTE ? ki(e.tTE) : Ri(e, "tTE", ta(x, "Transition"), n), w = e.tAE ? ki(e.tAE) : Ri(e, "tAE", ta(b, "Animation"), n), M = h.console && "function" == typeof h.console.warn, T = ["container", "controlsContainer", "prevButton", "nextButton", "navContainer", "autoplayButton"], E = {}; if (T.forEach(function (t) { if ("string" == typeof O[t]) { var e = O[t], n = D.querySelector(e); if (E[t] = e, !n || !n.nodeName) return void (M && console.warn("Can't find", O[t])); O[t] = n } }), !(O.container.children.length < 1)) { var k = O.responsive, R = O.nested, I = "carousel" === O.mode; if (k) { 0 in k && (O = Hi(O, k[0]), delete k[0]); var A = {}; for (var N in k) { var L = k[N]; L = "number" == typeof L ? { items: L } : L, A[N] = L } k = A, A = null } if (I || function t(e) { for (var n in e) I || ("slideBy" === n && (e[n] = "page"), "edgePadding" === n && (e[n] = !1), "autoHeight" === n && (e[n] = !1)), "responsive" === n && t(e[n]) }(O), !I) { O.axis = "horizontal", O.slideBy = "page", O.edgePadding = !1; var P = O.animateIn, z = O.animateOut, B = O.animateDelay, W = O.animateNormal } var S, F, q = "horizontal" === O.axis, j = D.createElement("div"), V = D.createElement("div"), G = O.container, Q = G.parentNode, X = G.outerHTML, Y = G.children, K = Y.length, J = sn(), U = !1; k && Bn(), I && (G.className += " tns-vpfix"); var _, Z, $, tt, et, nt, it, at, rt = O.autoWidth, ot = vn("fixedWidth"), ut = vn("edgePadding"), lt = vn("gutter"), st = fn(), ct = vn("center"), ft = rt ? 1 : Math.floor(vn("items")), dt = vn("slideBy"), vt = O.viewportMax || O.fixedWidthViewportWidth, pt = vn("arrowKeys"), mt = vn("speed"), ht = O.rewind, yt = !ht && O.loop, gt = vn("autoHeight"), xt = vn("controls"), bt = vn("controlsText"), Ct = vn("nav"), wt = vn("touch"), Mt = vn("mouseDrag"), Tt = vn("autoplay"), Et = vn("autoplayTimeout"), At = vn("autoplayText"), Nt = vn("autoplayHoverPause"), Lt = vn("autoplayResetOnVisibility"), Bt = (at = document.createElement("style"), it && at.setAttribute("media", it), document.querySelector("head").appendChild(at), at.sheet ? at.sheet : at.styleSheet), St = O.lazyload, Ot = (O.lazyloadSelector, []), Dt = yt ? (et = function () { { if (rt || ot && !vt) return K - 1; var t = ot ? "fixedWidth" : "items", e = []; if ((ot || O[t] < K) && e.push(O[t]), k) for (var n in k) { var i = k[n][t]; i && (ot || i < K) && e.push(i) } return e.length || e.push(0), Math.ceil(ot ? vt / Math.min.apply(null, e) : Math.max.apply(null, e)) } }(), nt = I ? Math.ceil((5 * et - K) / 2) : 4 * et - K, nt = Math.max(et, nt), dn("edgePadding") ? nt + 1 : nt) : 0, Ht = I ? K + 2 * Dt : K + Dt, kt = !(!ot && !rt || yt), Rt = ot ? ni() : null, It = !I || !yt, Pt = q ? "left" : "top", zt = "", Wt = "", Ft = ot ? function () { return ct && !yt ? K - 1 : Math.ceil(-Rt / (ot + lt)) } : rt ? function () { for (var t = Ht; t--;)if (_[t] >= -Rt) return t } : function () { return ct && I && !yt ? K - 1 : yt || I ? Math.max(0, Ht - Math.ceil(ft)) : Ht - 1 }, qt = on(vn("startIndex")), jt = qt, Vt = (rn(), 0), Gt = rt ? null : Ft(), Qt = O.preventActionWhenRunning, Xt = O.swipeAngle, Yt = !Xt || "?", Kt = !1, Jt = O.onInit, Ut = new ia, _t = " tns-slider tns-" + O.mode, Zt = G.id || (tt = window.tnsId, window.tnsId = tt ? tt + 1 : 1, "tns" + window.tnsId), $t = vn("disable"), te = !1, ee = O.freezable, ne = !(!ee || rt) && Ln(), ie = !1, ae = { click: fi, keydown: function (t) { t = xi(t); var e = [a.LEFT, a.RIGHT].indexOf(t.keyCode); 0 <= e && (0 === e ? Ee.disabled || fi(t, -1) : Ae.disabled || fi(t, 1)) } }, re = { click: function (t) { if (Kt) { if (Qt) return; si() } var e = bi(t = xi(t)); for (; e !== Se && !Qi(e, "data-nav");)e = e.parentNode; if (Qi(e, "data-nav")) { var n = ke = Number(Xi(e, "data-nav")), i = ot || rt ? n * K / De : n * ft, a = ve ? n : Math.min(Math.ceil(i), K - 1); ci(a, t), Re === n && (qe && hi(), ke = -1) } }, keydown: function (t) { t = xi(t); var e = D.activeElement; if (!Qi(e, "data-nav")) return; var n = [a.LEFT, a.RIGHT, a.ENTER, a.SPACE].indexOf(t.keyCode), i = Number(Xi(e, "data-nav")); 0 <= n && (0 === n ? 0 < i && gi(Be[i - 1]) : 1 === n ? i < De - 1 && gi(Be[i + 1]) : ci(ke = i, t)) } }, oe = { mouseover: function () { qe && (vi(), je = !0) }, mouseout: function () { je && (di(), je = !1) } }, ue = { visibilitychange: function () { D.hidden ? qe && (vi(), Ge = !0) : Ge && (di(), Ge = !1) } }, le = { keydown: function (t) { t = xi(t); var e = [a.LEFT, a.RIGHT].indexOf(t.keyCode); 0 <= e && fi(t, 0 === e ? -1 : 1) } }, se = { touchstart: Ti, touchmove: Ei, touchend: Ai, touchcancel: Ai }, ce = { mousedown: Ti, mousemove: Ei, mouseup: Ai, mouseleave: Ai }, fe = dn("controls"), de = dn("nav"), ve = !!rt || O.navAsThumbnails, pe = dn("autoplay"), me = dn("touch"), he = dn("mouseDrag"), ye = "tns-slide-active", ge = "tns-complete", xe = { load: function (t) { zn(bi(t)) }, error: function (t) { e = bi(t), Vi(e, "failed"), Wn(e); var e } }, be = "force" === O.preventScrollOnTouch; if (fe) var Ce, we, Me = O.controlsContainer, Te = O.controlsContainer ? O.controlsContainer.outerHTML : "", Ee = O.prevButton, Ae = O.nextButton, Ne = O.prevButton ? O.prevButton.outerHTML : "", Le = O.nextButton ? O.nextButton.outerHTML : ""; if (de) var Be, Se = O.navContainer, Oe = O.navContainer ? O.navContainer.outerHTML : "", De = rt ? K : Li(), He = 0, ke = -1, Re = ln(), Ie = Re, Pe = "tns-nav-active", ze = "Carousel Page ", We = " (Current Slide)"; if (pe) var Fe, qe, je, Ve, Ge, Qe = "forward" === O.autoplayDirection ? 1 : -1, Xe = O.autoplayButton, Ye = O.autoplayButton ? O.autoplayButton.outerHTML : "", Ke = ["<span class='tns-visually-hidden'>", " animation</span>"]; if (me || he) var Je, Ue, _e = {}, Ze = {}, $e = !1, tn = q ? function (t, e) { return t.x - e.x } : function (t, e) { return t.y - e.y }; rt || an($t || ne), d && (Pt = d, zt = "translate", v ? (zt += q ? "3d(" : "3d(0px, ", Wt = q ? ", 0px, 0px)" : ", 0px)") : (zt += q ? "X(" : "Y(", Wt = ")")), I && (G.className = G.className.replace("tns-vpfix", "")), function () { dn("gutter"); j.className = "tns-outer", V.className = "tns-inner", j.id = Zt + "-ow", V.id = Zt + "-iw", "" === G.id && (G.id = Zt); _t += g || rt ? " tns-subpixel" : " tns-no-subpixel", _t += y ? " tns-calc" : " tns-no-calc", rt && (_t += " tns-autowidth"); _t += " tns-" + O.axis, G.className += _t, I ? ((S = D.createElement("div")).id = Zt + "-mw", S.className = "tns-ovh", j.appendChild(S), S.appendChild(V)) : j.appendChild(V); if (gt) { var t = S || V; t.className += " tns-ah" } if (Q.insertBefore(j, G), V.appendChild(G), qi(Y, function (t, e) { Vi(t, "tns-item"), t.id || (t.id = Zt + "-item" + e), !I && W && Vi(t, W), Yi(t, { "aria-hidden": "true", tabindex: "-1" }) }), Dt) { for (var e = D.createDocumentFragment(), n = D.createDocumentFragment(), i = Dt; i--;) { var a = i % K, r = Y[a].cloneNode(!0); if (Ki(r, "id"), n.insertBefore(r, n.firstChild), I) { var o = Y[K - 1 - a].cloneNode(!0); Ki(o, "id"), e.appendChild(o) } } G.insertBefore(e, G.firstChild), G.appendChild(n), Y = G.children } }(), function () { if (!I) for (var t = qt, e = qt + Math.min(K, ft); t < e; t++) { var n = Y[t]; n.style.left = 100 * (t - qt) / ft + "%", Vi(n, P), Gi(n, W) } q && (g || rt ? (Wi(Bt, "#" + Zt + " > .tns-item", "font-size:" + h.getComputedStyle(Y[0]).fontSize + ";", Fi(Bt)), Wi(Bt, "#" + Zt, "font-size:0;", Fi(Bt))) : I && qi(Y, function (t, e) { var n; t.style.marginLeft = (n = e, y ? y + "(" + 100 * n + "% / " + Ht + ")" : 100 * n / Ht + "%") })); if (H) { if (x) { var i = S && O.autoHeight ? xn(O.speed) : ""; Wi(Bt, "#" + Zt + "-mw", i, Fi(Bt)) } i = pn(O.edgePadding, O.gutter, O.fixedWidth, O.speed, O.autoHeight), Wi(Bt, "#" + Zt + "-iw", i, Fi(Bt)), I && (i = q && !rt ? "width:" + mn(O.fixedWidth, O.gutter, O.items) + ";" : "", x && (i += xn(mt)), Wi(Bt, "#" + Zt, i, Fi(Bt))), i = q && !rt ? hn(O.fixedWidth, O.gutter, O.items) : "", O.gutter && (i += yn(O.gutter)), I || (x && (i += xn(mt)), b && (i += bn(mt))), i && Wi(Bt, "#" + Zt + " > .tns-item", i, Fi(Bt)) } else { Gn(), V.style.cssText = pn(ut, lt, ot, gt), I && q && !rt && (G.style.width = mn(ot, lt, ft)); var i = q && !rt ? hn(ot, lt, ft) : ""; lt && (i += yn(lt)), i && Wi(Bt, "#" + Zt + " > .tns-item", i, Fi(Bt)) } if (k && H) for (var a in k) { a = parseInt(a); var r = k[a], i = "", o = "", u = "", l = "", s = "", c = rt ? null : vn("items", a), f = vn("fixedWidth", a), d = vn("speed", a), v = vn("edgePadding", a), p = vn("autoHeight", a), m = vn("gutter", a); x && S && vn("autoHeight", a) && "speed" in r && (o = "#" + Zt + "-mw{" + xn(d) + "}"), ("edgePadding" in r || "gutter" in r) && (u = "#" + Zt + "-iw{" + pn(v, m, f, d, p) + "}"), I && q && !rt && ("fixedWidth" in r || "items" in r || ot && "gutter" in r) && (l = "width:" + mn(f, m, c) + ";"), x && "speed" in r && (l += xn(d)), l && (l = "#" + Zt + "{" + l + "}"), ("fixedWidth" in r || ot && "gutter" in r || !I && "items" in r) && (s += hn(f, m, c)), "gutter" in r && (s += yn(m)), !I && "speed" in r && (x && (s += xn(d)), b && (s += bn(d))), s && (s = "#" + Zt + " > .tns-item{" + s + "}"), (i = o + u + l + s) && Bt.insertRule("@media (min-width: " + a / 16 + "em) {" + i + "}", Bt.cssRules.length) } }(), Cn(); var en = yt ? I ? function () { var t = Vt, e = Gt; t += dt, e -= dt, ut ? (t += 1, e -= 1) : ot && (st + lt) % (ot + lt) && (e -= 1), Dt && (e < qt ? qt -= K : qt < t && (qt += K)) } : function () { if (Gt < qt) for (; Vt + K <= qt;)qt -= K; else if (qt < Vt) for (; qt <= Gt - K;)qt += K } : function () { qt = Math.max(Vt, Math.min(Gt, qt)) }, nn = I ? function () { var e, n, i, a, t, r, o, u, l, s, c; ti(G, ""), x || !mt ? (ri(), mt && Zi(G) || si()) : (e = G, n = Pt, i = zt, a = Wt, t = ii(), r = mt, o = si, u = Math.min(r, 10), l = 0 <= t.indexOf("%") ? "%" : "px", t = t.replace(l, ""), s = Number(e.style[n].replace(i, "").replace(a, "").replace(l, "")), c = (t - s) / r * u, setTimeout(function t() { r -= u, s += c, e.style[n] = i + s + l + a, 0 < r ? setTimeout(t, u) : o() }, u)), q || Ni() } : function () { Ot = []; var t = {}; t[C] = t[w] = si, na(Y[jt], t), ea(Y[qt], t), oi(jt, P, z, !0), oi(qt, W, P), C && w && mt && Zi(G) || si() }; return { version: "2.9.2", getInfo: Si, events: Ut, goTo: ci, play: function () { Tt && !qe && (mi(), Ve = !1) }, pause: function () { qe && (hi(), Ve = !0) }, isOn: U, updateSliderHeight: Xn, refresh: Cn, destroy: function () { if (Bt.disabled = !0, Bt.ownerNode && Bt.ownerNode.remove(), na(h, { resize: An }), pt && na(D, le), Me && na(Me, ae), Se && na(Se, re), na(G, oe), na(G, ue), Xe && na(Xe, { click: yi }), Tt && clearInterval(Fe), I && C) { var t = {}; t[C] = si, na(G, t) } wt && na(G, se), Mt && na(G, ce); var r = [X, Te, Ne, Le, Oe, Ye]; for (var e in T.forEach(function (t, e) { var n = "container" === t ? j : O[t]; if ("object" == typeof n) { var i = !!n.previousElementSibling && n.previousElementSibling, a = n.parentNode; n.outerHTML = r[e], O[t] = i ? i.nextElementSibling : a.firstElementChild } }), T = P = z = B = W = q = j = V = G = Q = X = Y = K = F = J = rt = ot = ut = lt = st = ft = dt = vt = pt = mt = ht = yt = gt = Bt = St = _ = Ot = Dt = Ht = kt = Rt = It = Pt = zt = Wt = Ft = qt = jt = Vt = Gt = Xt = Yt = Kt = Jt = Ut = _t = Zt = $t = te = ee = ne = ie = ae = re = oe = ue = le = se = ce = fe = de = ve = pe = me = he = ye = ge = xe = Z = xt = bt = Me = Te = Ee = Ae = Ce = we = Ct = Se = Oe = Be = De = He = ke = Re = Ie = Pe = ze = We = Tt = Et = Qe = At = Nt = Xe = Ye = Lt = Ke = Fe = qe = je = Ve = Ge = _e = Ze = Je = $e = Ue = tn = wt = Mt = null, this) "rebuild" !== e && (this[e] = null); U = !1 }, rebuild: function () { return aa(Hi(O, E)) } } } function an(t) { t && (xt = Ct = wt = Mt = pt = Tt = Nt = Lt = !1) } function rn() { for (var t = I ? qt - Dt : qt; t < 0;)t += K; return t % K + 1 } function on(t) { return t = t ? Math.max(0, Math.min(yt ? K - 1 : K - ft, t)) : 0, I ? t + Dt : t } function un(t) { for (null == t && (t = qt), I && (t -= Dt); t < 0;)t += K; return Math.floor(t % K) } function ln() { var t, e = un(); return t = ve ? e : ot || rt ? Math.ceil((e + 1) * De / K - 1) : Math.floor(e / ft), !yt && I && qt === Gt && (t = De - 1), t } function sn() { return h.innerWidth || D.documentElement.clientWidth || D.body.clientWidth } function cn(t) { return "top" === t ? "afterbegin" : "beforeend" } function fn() { var t = ut ? 2 * ut - lt : 0; return function t(e) { var n, i, a = D.createElement("div"); return e.appendChild(a), i = (n = a.getBoundingClientRect()).right - n.left, a.remove(), i || t(e.parentNode) }(Q) - t } function dn(t) { if (O[t]) return !0; if (k) for (var e in k) if (k[e][t]) return !0; return !1 } function vn(t, e) { if (null == e && (e = J), "items" === t && ot) return Math.floor((st + lt) / (ot + lt)) || 1; var n = O[t]; if (k) for (var i in k) e >= parseInt(i) && t in k[i] && (n = k[i][t]); return "slideBy" === t && "page" === n && (n = vn("items")), I || "slideBy" !== t && "items" !== t || (n = Math.floor(n)), n } function pn(t, e, n, i, a) { var r = ""; if (void 0 !== t) { var o = t; e && (o -= e), r = q ? "margin: 0 " + o + "px 0 " + t + "px;" : "margin: " + t + "px 0 " + o + "px 0;" } else if (e && !n) { var u = "-" + e + "px"; r = "margin: 0 " + (q ? u + " 0 0" : "0 " + u + " 0") + ";" } return !I && a && x && i && (r += xn(i)), r } function mn(t, e, n) { return t ? (t + e) * Ht + "px" : y ? y + "(" + 100 * Ht + "% / " + n + ")" : 100 * Ht / n + "%" } function hn(t, e, n) { var i; if (t) i = t + e + "px"; else { I || (n = Math.floor(n)); var a = I ? Ht : n; i = y ? y + "(100% / " + a + ")" : 100 / a + "%" } return i = "width:" + i, "inner" !== R ? i + ";" : i + " !important;" } function yn(t) { var e = ""; !1 !== t && (e = (q ? "padding-" : "margin-") + (q ? "right" : "bottom") + ": " + t + "px;"); return e } function gn(t, e) { var n = t.substring(0, t.length - e).toLowerCase(); return n && (n = "-" + n + "-"), n } function xn(t) { return gn(x, 18) + "transition-duration:" + t / 1e3 + "s;" } function bn(t) { return gn(b, 17) + "animation-duration:" + t / 1e3 + "s;" } function Cn() { if (dn("autoHeight") || rt || !q) { var t = G.querySelectorAll("img"); qi(t, function (t) { var e = t.src; e && e.indexOf("data:image") < 0 ? (ea(t, xe), t.src = "", t.src = e, Vi(t, "loading")) : St || zn(t) }), Oi(function () { jn(Ji(t), function () { Z = !0 }) }), !rt && q && (t = Fn(qt, Math.min(qt + ft - 1, Ht - 1))), St ? wn() : Oi(function () { jn(Ji(t), wn) }) } else I && ai(), Tn(), En() } function wn() { if (rt) { var e = yt ? qt : K - 1; !function t() { Y[e - 1].getBoundingClientRect().right.toFixed(2) === Y[e].getBoundingClientRect().left.toFixed(2) ? Mn() : setTimeout(function () { t() }, 16) }() } else Mn() } function Mn() { q && !rt || (Yn(), rt ? (Rt = ni(), ee && (ne = Ln()), Gt = Ft(), an($t || ne)) : Ni()), I && ai(), Tn(), En() } function Tn() { if (Kn(), j.insertAdjacentHTML("afterbegin", '<div class="tns-liveregion tns-visually-hidden" aria-live="polite" aria-atomic="true">slide <span class="current">' + Rn() + "</span>  of " + K + "</div>"), $ = j.querySelector(".tns-liveregion .current"), pe) { var t = Tt ? "stop" : "start"; Xe ? Yi(Xe, { "data-action": t }) : O.autoplayButtonOutput && (j.insertAdjacentHTML(cn(O.autoplayPosition), '<button data-action="' + t + '">' + Ke[0] + t + Ke[1] + At[0] + "</button>"), Xe = j.querySelector("[data-action]")), Xe && ea(Xe, { click: yi }), Tt && (mi(), Nt && ea(G, oe), Lt && ea(G, ue)) } if (de) { if (Se) Yi(Se, { "aria-label": "Carousel Pagination" }), qi(Be = Se.children, function (t, e) { Yi(t, { "data-nav": e, tabindex: "-1", "aria-label": ze + (e + 1), "aria-controls": Zt }) }); else { for (var e = "", n = ve ? "" : 'style="display:none"', i = 0; i < K; i++)e += '<button data-nav="' + i + '" tabindex="-1" aria-controls="' + Zt + '" ' + n + ' aria-label="' + ze + (i + 1) + '"></button>'; e = '<div class="tns-nav" aria-label="Carousel Pagination">' + e + "</div>", j.insertAdjacentHTML(cn(O.navPosition), e), Se = j.querySelector(".tns-nav"), Be = Se.children } if (Bi(), x) { var a = x.substring(0, x.length - 18).toLowerCase(), r = "transition: all " + mt / 1e3 + "s"; a && (r = "-" + a + "-" + r), Wi(Bt, "[aria-controls^=" + Zt + "-item]", r, Fi(Bt)) } Yi(Be[Re], { "aria-label": ze + (Re + 1) + We }), Ki(Be[Re], "tabindex"), Vi(Be[Re], Pe), ea(Se, re) } fe && (Me || Ee && Ae || (j.insertAdjacentHTML(cn(O.controlsPosition), '<div class="tns-controls" aria-label="Carousel Navigation" tabindex="0"><button data-controls="prev" tabindex="-1" aria-controls="' + Zt + '">' + bt[0] + '</button><button data-controls="next" tabindex="-1" aria-controls="' + Zt + '">' + bt[1] + "</button></div>"), Me = j.querySelector(".tns-controls")), Ee && Ae || (Ee = Me.children[0], Ae = Me.children[1]), O.controlsContainer && Yi(Me, { "aria-label": "Carousel Navigation", tabindex: "0" }), (O.controlsContainer || O.prevButton && O.nextButton) && Yi([Ee, Ae], { "aria-controls": Zt, tabindex: "-1" }), (O.controlsContainer || O.prevButton && O.nextButton) && (Yi(Ee, { "data-controls": "prev" }), Yi(Ae, { "data-controls": "next" })), Ce = Un(Ee), we = Un(Ae), $n(), Me ? ea(Me, ae) : (ea(Ee, ae), ea(Ae, ae))), Sn() } function En() { if (I && C) { var t = {}; t[C] = si, ea(G, t) } wt && ea(G, se, O.preventScrollOnTouch), Mt && ea(G, ce), pt && ea(D, le), "inner" === R ? Ut.on("outerResized", function () { Nn(), Ut.emit("innerLoaded", Si()) }) : (k || ot || rt || gt || !q) && ea(h, { resize: An }), gt && ("outer" === R ? Ut.on("innerLoaded", qn) : $t || qn()), Pn(), $t ? Hn() : ne && Dn(), Ut.on("indexChanged", Vn), "inner" === R && Ut.emit("innerLoaded", Si()), "function" == typeof Jt && Jt(Si()), U = !0 } function An(t) { Oi(function () { Nn(xi(t)) }) } function Nn(t) { if (U) { "outer" === R && Ut.emit("outerResized", Si(t)), J = sn(); var e, n = F, i = !1; k && (Bn(), (e = n !== F) && Ut.emit("newBreakpointStart", Si(t))); var a, r, o, u, l = ft, s = $t, c = ne, f = pt, d = xt, v = Ct, p = wt, m = Mt, h = Tt, y = Nt, g = Lt, x = qt; if (e) { var b = ot, C = gt, w = bt, M = ct, T = At; if (!H) var E = lt, A = ut } if (pt = vn("arrowKeys"), xt = vn("controls"), Ct = vn("nav"), wt = vn("touch"), ct = vn("center"), Mt = vn("mouseDrag"), Tt = vn("autoplay"), Nt = vn("autoplayHoverPause"), Lt = vn("autoplayResetOnVisibility"), e && ($t = vn("disable"), ot = vn("fixedWidth"), mt = vn("speed"), gt = vn("autoHeight"), bt = vn("controlsText"), At = vn("autoplayText"), Et = vn("autoplayTimeout"), H || (ut = vn("edgePadding"), lt = vn("gutter"))), an($t), st = fn(), q && !rt || $t || (Yn(), q || (Ni(), i = !0)), (ot || rt) && (Rt = ni(), Gt = Ft()), (e || ot) && (ft = vn("items"), dt = vn("slideBy"), (r = ft !== l) && (ot || rt || (Gt = Ft()), en())), e && $t !== s && ($t ? Hn() : function () { if (!te) return; if (Bt.disabled = !1, G.className += _t, ai(), yt) for (var t = Dt; t--;)I && _i(Y[t]), _i(Y[Ht - t - 1]); if (!I) for (var e = qt, n = qt + K; e < n; e++) { var i = Y[e], a = e < qt + ft ? P : W; i.style.left = 100 * (e - qt) / ft + "%", Vi(i, a) } On(), te = !1 }()), ee && (e || ot || rt) && (ne = Ln()) !== c && (ne ? (ri(ii(on(0))), Dn()) : (!function () { if (!ie) return; ut && H && (V.style.margin = ""); if (Dt) for (var t = "tns-transparent", e = Dt; e--;)I && Gi(Y[e], t), Gi(Y[Ht - e - 1], t); On(), ie = !1 }(), i = !0)), an($t || ne), Tt || (Nt = Lt = !1), pt !== f && (pt ? ea(D, le) : na(D, le)), xt !== d && (xt ? Me ? _i(Me) : (Ee && _i(Ee), Ae && _i(Ae)) : Me ? Ui(Me) : (Ee && Ui(Ee), Ae && Ui(Ae))), Ct !== v && (Ct ? _i(Se) : Ui(Se)), wt !== p && (wt ? ea(G, se, O.preventScrollOnTouch) : na(G, se)), Mt !== m && (Mt ? ea(G, ce) : na(G, ce)), Tt !== h && (Tt ? (Xe && _i(Xe), qe || Ve || mi()) : (Xe && Ui(Xe), qe && hi())), Nt !== y && (Nt ? ea(G, oe) : na(G, oe)), Lt !== g && (Lt ? ea(D, ue) : na(D, ue)), e) { if (ot === b && ct === M || (i = !0), gt !== C && (gt || (V.style.height = "")), xt && bt !== w && (Ee.innerHTML = bt[0], Ae.innerHTML = bt[1]), Xe && At !== T) { var N = Tt ? 1 : 0, L = Xe.innerHTML, B = L.length - T[N].length; L.substring(B) === T[N] && (Xe.innerHTML = L.substring(0, B) + At[N]) } } else ct && (ot || rt) && (i = !0); if ((r || ot && !rt) && (De = Li(), Bi()), (a = qt !== x) ? (Ut.emit("indexChanged", Si()), i = !0) : r ? a || Vn() : (ot || rt) && (Pn(), Kn(), kn()), r && !I && function () { for (var t = qt + Math.min(K, ft), e = Ht; e--;) { var n = Y[e]; qt <= e && e < t ? (Vi(n, "tns-moving"), n.style.left = 100 * (e - qt) / ft + "%", Vi(n, P), Gi(n, W)) : n.style.left && (n.style.left = "", Vi(n, W), Gi(n, P)), Gi(n, z) } setTimeout(function () { qi(Y, function (t) { Gi(t, "tns-moving") }) }, 300) }(), !$t && !ne) { if (e && !H && (gt === autoheightTem && mt === speedTem || Gn(), ut === A && lt === E || (V.style.cssText = pn(ut, lt, ot, mt, gt)), q)) { I && (G.style.width = mn(ot, lt, ft)); var S = hn(ot, lt, ft) + yn(lt); u = Fi(o = Bt) - 1, "deleteRule" in o ? o.deleteRule(u) : o.removeRule(u), Wi(Bt, "#" + Zt + " > .tns-item", S, Fi(Bt)) } gt && qn(), i && (ai(), jt = qt) } e && Ut.emit("newBreakpointEnd", Si(t)) } } function Ln() { if (!ot && !rt) return K <= (ct ? ft - (ft - 1) / 2 : ft); var t = ot ? (ot + lt) * K : _[K], e = ut ? st + 2 * ut : st + lt; return ct && (e -= ot ? (st - ot) / 2 : (st - (_[qt + 1] - _[qt] - lt)) / 2), t <= e } function Bn() { for (var t in F = 0, k) (t = parseInt(t)) <= J && (F = t) } function Sn() { !Tt && Xe && Ui(Xe), !Ct && Se && Ui(Se), xt || (Me ? Ui(Me) : (Ee && Ui(Ee), Ae && Ui(Ae))) } function On() { Tt && Xe && _i(Xe), Ct && Se && _i(Se), xt && (Me ? _i(Me) : (Ee && _i(Ee), Ae && _i(Ae))) } function Dn() { if (!ie) { if (ut && (V.style.margin = "0px"), Dt) for (var t = "tns-transparent", e = Dt; e--;)I && Vi(Y[e], t), Vi(Y[Ht - e - 1], t); Sn(), ie = !0 } } function Hn() { if (!te) { if (Bt.disabled = !0, G.className = G.className.replace(_t.substring(1), ""), Ki(G, ["style"]), yt) for (var t = Dt; t--;)I && Ui(Y[t]), Ui(Y[Ht - t - 1]); if (q && I || Ki(V, ["style"]), !I) for (var e = qt, n = qt + K; e < n; e++) { var i = Y[e]; Ki(i, ["style"]), Gi(i, P), Gi(i, W) } Sn(), te = !0 } } function kn() { var t = Rn(); $.innerHTML !== t && ($.innerHTML = t) } function Rn() { var t = In(), e = t[0] + 1, n = t[1] + 1; return e === n ? e + "" : e + " to " + n } function In(t) { null == t && (t = ii()); var n, i, a, r = qt; if (ct || ut ? (rt || ot) && (i = -(parseFloat(t) + ut), a = i + st + 2 * ut) : rt && (i = _[qt], a = i + st), rt) _.forEach(function (t, e) { e < Ht && ((ct || ut) && t <= i + .5 && (r = e), .5 <= a - t && (n = e)) }); else { if (ot) { var e = ot + lt; ct || ut ? (r = Math.floor(i / e), n = Math.ceil(a / e - 1)) : n = r + Math.ceil(st / e) - 1 } else if (ct || ut) { var o = ft - 1; if (ct ? (r -= o / 2, n = qt + o / 2) : n = qt + o, ut) { var u = ut * ft / st; r -= u, n += u } r = Math.floor(r), n = Math.ceil(n) } else n = r + ft - 1; r = Math.max(r, 0), n = Math.min(n, Ht - 1) } return [r, n] } function Pn() { St && !$t && Fn.apply(null, In()).forEach(function (t) { if (!ji(t, ge)) { var e = {}; e[C] = function (t) { t.stopPropagation() }, ea(t, e), ea(t, xe), t.src = Xi(t, "data-src"); var n = Xi(t, "data-srcset"); n && (t.srcset = n), Vi(t, "loading") } }) } function zn(t) { Vi(t, "loaded"), Wn(t) } function Wn(t) { Vi(t, "tns-complete"), Gi(t, "loading"), na(t, xe) } function Fn(t, e) { for (var n = []; t <= e;)qi(Y[t].querySelectorAll("img"), function (t) { n.push(t) }), t++; return n } function qn() { var t = Fn.apply(null, In()); Oi(function () { jn(t, Xn) }) } function jn(n, t) { return Z ? t() : (n.forEach(function (t, e) { ji(t, ge) && n.splice(e, 1) }), n.length ? void Oi(function () { jn(n, t) }) : t()) } function Vn() { Pn(), Kn(), kn(), $n(), function () { if (Ct && (Re = 0 <= ke ? ke : ln(), ke = -1, Re !== Ie)) { var t = Be[Ie], e = Be[Re]; Yi(t, { tabindex: "-1", "aria-label": ze + (Ie + 1) }), Gi(t, Pe), Yi(e, { "aria-label": ze + (Re + 1) + We }), Ki(e, "tabindex"), Vi(e, Pe), Ie = Re } }() } function Gn() { I && gt && (S.style[x] = mt / 1e3 + "s") } function Qn(t, e) { for (var n = [], i = t, a = Math.min(t + e, Ht); i < a; i++)n.push(Y[i].offsetHeight); return Math.max.apply(null, n) } function Xn() { var t = gt ? Qn(qt, ft) : Qn(Dt, K), e = S || V; e.style.height !== t && (e.style.height = t + "px") } function Yn() { _ = [0]; var n = q ? "left" : "top", i = q ? "right" : "bottom", a = Y[0].getBoundingClientRect()[n]; qi(Y, function (t, e) { e && _.push(t.getBoundingClientRect()[n] - a), e === Ht - 1 && _.push(t.getBoundingClientRect()[i] - a) }) } function Kn() { var t = In(), n = t[0], i = t[1]; qi(Y, function (t, e) { n <= e && e <= i ? Qi(t, "aria-hidden") && (Ki(t, ["aria-hidden", "tabindex"]), Vi(t, ye)) : Qi(t, "aria-hidden") || (Yi(t, { "aria-hidden": "true", tabindex: "-1" }), Gi(t, ye)) }) } function Jn(t) { return t.nodeName.toLowerCase() } function Un(t) { return "button" === Jn(t) } function _n(t) { return "true" === t.getAttribute("aria-disabled") } function Zn(t, e, n) { t ? e.disabled = n : e.setAttribute("aria-disabled", n.toString()) } function $n() { if (xt && !ht && !yt) { var t = Ce ? Ee.disabled : _n(Ee), e = we ? Ae.disabled : _n(Ae), n = qt <= Vt, i = !ht && Gt <= qt; n && !t && Zn(Ce, Ee, !0), !n && t && Zn(Ce, Ee, !1), i && !e && Zn(we, Ae, !0), !i && e && Zn(we, Ae, !1) } } function ti(t, e) { x && (t.style[x] = e) } function ei(t) { return null == t && (t = qt), rt ? (st - (ut ? lt : 0) - (_[t + 1] - _[t] - lt)) / 2 : ot ? (st - ot) / 2 : (ft - 1) / 2 } function ni() { var t = st + (ut ? lt : 0) - (ot ? (ot + lt) * Ht : _[Ht]); return ct && !yt && (t = ot ? -(ot + lt) * (Ht - 1) - ei() : ei(Ht - 1) - _[Ht - 1]), 0 < t && (t = 0), t } function ii(t) { var e; if (null == t && (t = qt), q && !rt) if (ot) e = -(ot + lt) * t, ct && (e += ei()); else { var n = d ? Ht : ft; ct && (t -= ei()), e = 100 * -t / n } else e = -_[t], ct && rt && (e += ei()); return kt && (e = Math.max(e, Rt)), e += !q || rt || ot ? "px" : "%" } function ai(t) { ti(G, "0s"), ri(t) } function ri(t) { null == t && (t = ii()), G.style[Pt] = zt + t + Wt } function oi(t, e, n, i) { var a = t + ft; yt || (a = Math.min(a, Ht)); for (var r = t; r < a; r++) { var o = Y[r]; i || (o.style.left = 100 * (r - qt) / ft + "%"), B && p && (o.style[p] = o.style[m] = B * (r - t) / 1e3 + "s"), Gi(o, e), Vi(o, n), i && Ot.push(o) } } function ui(t, e) { It && en(), (qt !== jt || e) && (Ut.emit("indexChanged", Si()), Ut.emit("transitionStart", Si()), gt && qn(), qe && t && 0 <= ["click", "keydown"].indexOf(t.type) && hi(), Kt = !0, nn()) } function li(t) { return t.toLowerCase().replace(/-/g, "") } function si(t) { if (I || Kt) { if (Ut.emit("transitionEnd", Si(t)), !I && 0 < Ot.length) for (var e = 0; e < Ot.length; e++) { var n = Ot[e]; n.style.left = "", m && p && (n.style[m] = "", n.style[p] = ""), Gi(n, z), Vi(n, W) } if (!t || !I && t.target.parentNode === G || t.target === G && li(t.propertyName) === li(Pt)) { if (!It) { var i = qt; en(), qt !== i && (Ut.emit("indexChanged", Si()), ai()) } "inner" === R && Ut.emit("innerLoaded", Si()), Kt = !1, jt = qt } } } function ci(t, e) { if (!ne) if ("prev" === t) fi(e, -1); else if ("next" === t) fi(e, 1); else { if (Kt) { if (Qt) return; si() } var n = un(), i = 0; if ("first" === t ? i = -n : "last" === t ? i = I ? K - ft - n : K - 1 - n : ("number" != typeof t && (t = parseInt(t)), isNaN(t) || (e || (t = Math.max(0, Math.min(K - 1, t))), i = t - n)), !I && i && Math.abs(i) < ft) { var a = 0 < i ? 1 : -1; i += Vt <= qt + i - K ? K * a : 2 * K * a * -1 } qt += i, I && yt && (qt < Vt && (qt += K), Gt < qt && (qt -= K)), un(qt) !== un(jt) && ui(e) } } function fi(t, e) { if (Kt) { if (Qt) return; si() } var n; if (!e) { for (var i = bi(t = xi(t)); i !== Me && [Ee, Ae].indexOf(i) < 0;)i = i.parentNode; var a = [Ee, Ae].indexOf(i); 0 <= a && (n = !0, e = 0 === a ? -1 : 1) } if (ht) { if (qt === Vt && -1 === e) return void ci("last", t); if (qt === Gt && 1 === e) return void ci("first", t) } e && (qt += dt * e, rt && (qt = Math.floor(qt)), ui(n || t && "keydown" === t.type ? t : null)) } function di() { Fe = setInterval(function () { fi(null, Qe) }, Et), qe = !0 } function vi() { clearInterval(Fe), qe = !1 } function pi(t, e) { Yi(Xe, { "data-action": t }), Xe.innerHTML = Ke[0] + t + Ke[1] + e } function mi() { di(), Xe && pi("stop", At[1]) } function hi() { vi(), Xe && pi("start", At[0]) } function yi() { qe ? (hi(), Ve = !0) : (mi(), Ve = !1) } function gi(t) { t.focus() } function xi(t) { return Ci(t = t || h.event) ? t.changedTouches[0] : t } function bi(t) { return t.target || h.event.srcElement } function Ci(t) { return 0 <= t.type.indexOf("touch") } function wi(t) { t.preventDefault ? t.preventDefault() : t.returnValue = !1 } function Mi() { return a = Ze.y - _e.y, r = Ze.x - _e.x, t = Math.atan2(a, r) * (180 / Math.PI), e = Xt, n = !1, i = Math.abs(90 - Math.abs(t)), 90 - e <= i ? n = "horizontal" : i <= e && (n = "vertical"), n === O.axis; var t, e, n, i, a, r } function Ti(t) { if (Kt) { if (Qt) return; si() } Tt && qe && vi(), $e = !0, Ue && (Di(Ue), Ue = null); var e = xi(t); Ut.emit(Ci(t) ? "touchStart" : "dragStart", Si(t)), !Ci(t) && 0 <= ["img", "a"].indexOf(Jn(bi(t))) && wi(t), Ze.x = _e.x = e.clientX, Ze.y = _e.y = e.clientY, I && (Je = parseFloat(G.style[Pt].replace(zt, "")), ti(G, "0s")) } function Ei(t) { if ($e) { var e = xi(t); Ze.x = e.clientX, Ze.y = e.clientY, I ? Ue || (Ue = Oi(function () { !function t(e) { if (!Yt) return void ($e = !1); Di(Ue); $e && (Ue = Oi(function () { t(e) })); "?" === Yt && (Yt = Mi()); if (Yt) { !be && Ci(e) && (be = !0); try { e.type && Ut.emit(Ci(e) ? "touchMove" : "dragMove", Si(e)) } catch (t) { } var n = Je, i = tn(Ze, _e); if (!q || ot || rt) n += i, n += "px"; else { var a = d ? i * ft * 100 / ((st + lt) * Ht) : 100 * i / (st + lt); n += a, n += "%" } G.style[Pt] = zt + n + Wt } }(t) })) : ("?" === Yt && (Yt = Mi()), Yt && (be = !0)), be && t.preventDefault() } } function Ai(i) { if ($e) { Ue && (Di(Ue), Ue = null), I && ti(G, ""), $e = !1; var t = xi(i); Ze.x = t.clientX, Ze.y = t.clientY; var a = tn(Ze, _e); if (Math.abs(a)) { if (!Ci(i)) { var n = bi(i); ea(n, { click: function t(e) { wi(e), na(n, { click: t }) } }) } I ? Ue = Oi(function () { if (q && !rt) { var t = -a * ft / (st + lt); t = 0 < a ? Math.floor(t) : Math.ceil(t), qt += t } else { var e = -(Je + a); if (e <= 0) qt = Vt; else if (e >= _[Ht - 1]) qt = Gt; else for (var n = 0; n < Ht && e >= _[n];)e > _[qt = n] && a < 0 && (qt += 1), n++ } ui(i, a), Ut.emit(Ci(i) ? "touchEnd" : "dragEnd", Si(i)) }) : Yt && fi(i, 0 < a ? -1 : 1) } } "auto" === O.preventScrollOnTouch && (be = !1), Xt && (Yt = "?"), Tt && !qe && di() } function Ni() { (S || V).style.height = _[qt + ft] - _[qt] + "px" } function Li() { var t = ot ? (ot + lt) * K / st : K / ft; return Math.min(Math.ceil(t), K) } function Bi() { if (Ct && !ve && De !== He) { var t = He, e = De, n = _i; for (De < He && (t = De, e = He, n = Ui); t < e;)n(Be[t]), t++; He = De } } function Si(t) { return { container: G, slideItems: Y, navContainer: Se, navItems: Be, controlsContainer: Me, hasControls: fe, prevButton: Ee, nextButton: Ae, items: ft, slideBy: dt, cloneCount: Dt, slideCount: K, slideCountNew: Ht, index: qt, indexCached: jt, displayIndex: rn(), navCurrentIndex: Re, navCurrentIndexCached: Ie, pages: De, pagesCached: He, sheet: Bt, isOn: U, event: t || {} } } M && console.warn("No slides found in", O.container) }; return aa }();



(function (root, factory) {
    if (typeof define === 'function' && define.amd) {
        define(['exports'], factory);
    } else if (typeof exports !== 'undefined') {
        factory(exports);
    } else {
        factory((root.dragscroll = {}));
    }
}(this, function (exports) {
    let _window = window;
    let _document = document;
    let mousemove = 'mousemove';
    let mouseup = 'mouseup';
    let mousedown = 'mousedown';
    let EventListener = 'EventListener';
    let addEventListener = 'add' + EventListener;
    let removeEventListener = 'remove' + EventListener;
    let newScrollX, newScrollY;

    let dragged = [];
    let reset = function (i, el) {
        for (i = 0; i < dragged.length;) {
            el = dragged[i++];
            el = el.container || el;
            el[removeEventListener](mousedown, el.md, 0);
            _window[removeEventListener](mouseup, el.mu, 0);
            _window[removeEventListener](mousemove, el.mm, 0);
        };

        // cloning into array since HTMLCollection is updated dynamically
        dragged = [].slice.call(_document.getElementsByClassName('dragscroll'));
        for (i = 0; i < dragged.length;) {
            (function (el, lastClientX, lastClientY, pushed, scroller, cont) {
                (cont = el.container || el)[addEventListener](
                    mousedown,
                    cont.md = function (e) {

                        if (!el.hasAttribute('nochilddrag') ||
                            _document.elementFromPoint(
                                e.pageX, e.pageY
                            ) == cont
                        ) {
                            pushed = 1;
                            lastClientX = e.clientX;
                            lastClientY = e.clientY;

                            e.preventDefault();
                        }
                    }, 0
                );

                _window[addEventListener](
                    mouseup, cont.mu = function (e) {
                        pushed = 0;

                    }, 0
                );

                _window[addEventListener](
                    mousemove,
                    cont.mm = function (e) {
                        if (pushed) {
                            if (!!e.target.closest('a')) {
                                e.target.closest('a').setAttribute('onclick', 'removeClickHandler(this); return false;');
                            }
                            (scroller = el.scroller || el).scrollLeft -=
                                newScrollX = (- lastClientX + (lastClientX = e.clientX));
                            scroller.scrollTop -=
                                newScrollY = (- lastClientY + (lastClientY = e.clientY));
                            if (el == _document.body) {
                                (scroller = _document.documentElement).scrollLeft -= newScrollX;
                                scroller.scrollTop -= newScrollY;
                            }
                        }
                    }, 0
                );
            })(dragged[i++]);
        };
    };

    if (_document.readyState == 'complete') {
        reset();
    } else {
        _window[addEventListener]('load', reset, 0);
    };
    exports.reset = reset;
}));
function removeClickHandler(element) {
    // remove click handler from self
    element.setAttribute('onclick', null);

};


const Ukrainian = {
    firstDayOfWeek: 1,
    weekdays: {
        shorthand: ["Нд", "Пн", "Вт", "Ср", "Чт", "Пт", "Сб"],
        longhand: [
            "Неділя",
            "Понеділок",
            "Вівторок",
            "Середа",
            "Четвер",
            "П'ятниця",
            "Субота",
        ],
    },
    months: {
        shorthand: [
            "Січ",
            "Лют",
            "Бер",
            "Кві",
            "Тра",
            "Чер",
            "Лип",
            "Сер",
            "Вер",
            "Жов",
            "Лис",
            "Гру",
        ],
        longhand: [
            "Січень",
            "Лютий",
            "Березень",
            "Квітень",
            "Травень",
            "Червень",
            "Липень",
            "Серпень",
            "Вересень",
            "Жовтень",
            "Листопад",
            "Грудень",
        ],
    },
    firstDayOfWeek: 1,
    ordinal: function () {
        return "";
    },
    rangeSeparator: " — ",
    weekAbbreviation: "Нед.",
    scrollTitle: "Прокрутіть для збільшення",
    toggleTitle: "Натисніть для перемикання",
    amPM: ["ДП", "ПП"],
    yearAriaLabel: "Рік",
    time_24hr: true,
}

const Russian = {
    weekdays: {
        shorthand: ["Вс", "Пн", "Вт", "Ср", "Чт", "Пт", "Сб"],
        longhand: [
            "Воскресенье",
            "Понедельник",
            "Вторник",
            "Среда",
            "Четверг",
            "Пятница",
            "Суббота",
        ],
    },
    months: {
        shorthand: [
            "Янв",
            "Фев",
            "Март",
            "Апр",
            "Май",
            "Июнь",
            "Июль",
            "Авг",
            "Сен",
            "Окт",
            "Ноя",
            "Дек",
        ],
        longhand: [
            "Январь",
            "Февраль",
            "Март",
            "Апрель",
            "Май",
            "Июнь",
            "Июль",
            "Август",
            "Сентябрь",
            "Октябрь",
            "Ноябрь",
            "Декабрь",
        ],
    },
    firstDayOfWeek: 1,
    ordinal: function () {
        return "";
    },
    rangeSeparator: " — ",
    weekAbbreviation: "Нед.",
    scrollTitle: "Прокрутите для увеличения",
    toggleTitle: "Нажмите для переключения",
    amPM: ["ДП", "ПП"],
    yearAriaLabel: "Год",
    time_24hr: true,
}

const English = {
    weekdays: {
        shorthand: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
        longhand: [
            "Sunday",
            "Monday",
            "Tuesday",
            "Wednesday",
            "Thursday",
            "Friday",
            "Saturday",
        ],
    },
    months: {
        shorthand: [
            "Jan",
            "Feb",
            "Mar",
            "Apr",
            "May",
            "Jun",
            "Jul",
            "Aug",
            "Sep",
            "Oct",
            "Nov",
            "Dec",
        ],
        longhand: [
            "January",
            "February",
            "March",
            "April",
            "May",
            "June",
            "July",
            "August",
            "September",
            "October",
            "November",
            "December",
        ],
    },
    firstDayOfWeek: 1,
    ordinal: function () {
        return "";
    },
    rangeSeparator: " to ",
    weekAbbreviation: "Wk",
    scrollTitle: "Scroll to increment",
    toggleTitle: "Click to toggle",
    amPM: ["AM", "PM"],
    yearAriaLabel: "Year",
    time_24hr: true,
};

const patternEmail = /^((([0-9A-Za-z]{1}[-0-9A-z\.]{0,30}[0-9A-Za-z]?)|([0-9А-Яа-я]{1}[-0-9А-я\.]{0,30}[0-9А-Яа-я]?))@([-A-Za-z]{1,}\.){1,}[-A-Za-z]{2,})$/,
    patternPhone = /^[0-9\(\)\+\-]{17,17}$/,
    patternName = /^(([a-zA-Zа-яА-Я_\-]{2,20})|((([a-zA-Zа-яА-Я_\-]{2,20})\s([a-zA-Zа-яА-Я_\-]{2,20}))))$/,
    patternText = /^[0-9a-zA-Zа-яА-Я_,.!?\s\(\)\-\@\#\%\*]+$/,
    patternFile = /\.(pdf|doc|docx)$/i,
    patternPassword = /^[0-9a-zA-Zа_!#\-]{6,30}$/,
    patternDate = /^[0-9_.,:\s\-]{16,16}$/,
    patternNumber = /[0-9]$/;
document.addEventListener('DOMContentLoaded', function () {
    const body = document.querySelector('body'),
        accordionWrap = document.querySelectorAll('.accordion'),
        triangleEvent = document.querySelectorAll('.triangle-event'),
        languageItems = document.querySelectorAll('.header__language-item'),
        assortmentRadioBtn = document.querySelectorAll('.assortment-radio-btn'),
        catalogRadioBtn = document.querySelectorAll('.catalog-radio-btn'),
        offerTitleItems = document.querySelectorAll('.offer__title-item'),
        headerMobWrap = document.querySelector('.header__mob-wrap'),
        passwordControl = document.querySelectorAll('.password-control'),
        testimoniaDescription = document.querySelectorAll('.testimonial__description-text'),
        testimonialBtnMessage = document.querySelectorAll('.testimonial__btn-message'),
        testimonialBtnShow = document.querySelector('.testimonial__btn-show'),
        testimonialNewBtn = document.querySelector('.testimonial-new__btn'),
        inputChange = document.querySelectorAll('.input-change'),
        headerClose = document.querySelectorAll('.header__close'),
        hamburgerBtn = document.querySelector('.hamburger'),
        catalogNavItem = document.querySelectorAll('.catalog__nav-item'),
        popupInputs = document.querySelectorAll('.popup__input'),
        popupInputPlaceholder = document.querySelectorAll('.popup__input-placeholder'),
        formValidation = document.querySelectorAll('.form-validation'),
        checkoutFormValidation = document.querySelectorAll('.checkout__form-validation'),
        cartClose = document.querySelectorAll('.cart__close'),
        btnsCartRemoveProduct = document.querySelectorAll('.cart__btn-remove'),
        cartBtnOpen = document.querySelector('#cart'),
        cartPopup = document.querySelector('#cart__popup'),
        customSelects = document.querySelectorAll('.custom__select'),
        dishDescriptionBtn = document.querySelector('.dish__description-btn');

    const bannerCarousel = document.querySelector('#bannerCarousel'),
        restoransGallery = document.querySelectorAll('.restorans__gallery'),
        restoransItem = document.querySelectorAll('.restorans__item');

    const accordionCloseBtn = document.querySelectorAll('.menu__close-btn'),
        testimonialBtnsAdmin = document.querySelectorAll('.testimonial__btn-admin');

    // accordion ('.header__menu-product');
    triangleEvent.forEach(el => el.addEventListener("click", function (e) {

        let accordionWrap = this.closest('.accordion-wrap'),
            accordion = accordionWrap.querySelector('.accordion'),
            triangleIcon = accordionWrap.querySelector('.triangle-icon');

        if (windowWidth < 980 && el.classList.contains('header__menu-product')) {
            body.classList.add('overflow-hidden');
        }
        accordion.classList.toggle('active');
        triangleIcon.classList.toggle('active');
        if (accordion.classList.contains('active')) {
            slideDown(accordion, 300);
        } else {
            accordion.style.display = 'none';
        }
        e.stopPropagation();
    }));

    accordionCloseBtn.forEach(el => el.addEventListener("click", accordionClose));
    accordionCloseBtn.forEach(el => el.addEventListener("touchmove", accordionClose));


    function accordionClose(event) {
        let accordionWrap = event.target.closest('.accordion-wrap'),
            accordion = accordionWrap.querySelector('.accordion'),
            triangleIcon = accordionWrap.querySelector('.triangle-icon');

        body.classList.remove('overflow-hidden');

        accordion.classList.remove('active');
        triangleIcon.classList.remove('active');

        accordion.style.display = 'none';
    };

    if(popupInputs.length > 0){
        popupInputs.forEach(el => {
            if(el.value !== '') {
                el.closest('.popup__input-box').classList.add('val');
            }
        })
    }


    testimonialBtnsAdmin.forEach(el => el.addEventListener("click", function (e) {
        let parent = el.closest('.testimonial__item'),
            massageAdmin = parent.querySelector('.testimonial__massage-admin');

        el.classList.toggle('active');
        massageAdmin.classList.toggle('active');
        if (massageAdmin.classList.contains('active')) {
            slideDown(massageAdmin, 300);
        } else {
            massageAdmin.style.display = 'none';
        }
    }));


    if (!!restoransGallery.length) {
        restoransItem.forEach(el => {
            let gallery = el.querySelector('.restorans__gallery');
            if (!gallery) return
            let displayIndex = el.querySelector('.display-index'),
                displayLength = el.querySelector('.display-length'),
                lengthGallery = el.querySelector('.restorans__gallery').querySelectorAll('img').length;

            displayIndex.innerHTML = `1`;
            displayLength.innerHTML = `${lengthGallery}`;


            let galleryImg = gallery.querySelectorAll('img');

            galleryImg.forEach(item => {
                let wrapper = document.createElement('a');
                let anchor = item.getAttribute('src');

                wrapper.setAttribute("href", `${anchor}`);
                wrapper.appendChild(item);

                gallery.appendChild(wrapper);
            })
        })

        const arrayTns = {}
        for (var i = 1; i <= restoransGallery.length; i++) {
            arrayTns[`tns${i}`] = i
        }

        restoransGallery.forEach((el, index) => {
            let elementId = el.getAttribute('id');


            arrayTns[index] = tns({
                container: `#${elementId}`,
                items: 1,
                loop: false,
                prevButton: `.prev-${elementId}`,
                nextButton: `.next-${elementId}`
            });

            lightGallery(document.getElementById(`restorans__gallery${index + 1}`), {
                thumbnail: true,
                animateThumb: false,
                showThumbByDefault: false
            });
        });


        document.querySelectorAll('.galleryButton').forEach(el => el.addEventListener('click', function (e) {
            let indexTns = el.closest('.restorans__item').querySelector('.restorans__gallery').getAttribute('id').slice(-1),
                info = arrayTns[Number(indexTns - 1)].getInfo(),
                indexCurrent = info.index,
                parent = el.closest('.restorans__item'),
                displayIndex = parent.querySelector('.display-index'),
                indexGallery;

            if (el.getAttribute('data-control') === "prev") {
                indexGallery = indexCurrent + 1

                displayIndex.innerHTML = indexGallery;
            }
            if (el.getAttribute('data-control') === "next") {
                indexGallery = indexCurrent + 1

                displayIndex.innerHTML = indexGallery;
            }

        }));
    }


    if (!!bannerCarousel) {
        tns({
            container: '#bannerCarousel',
            items: 1,
            slideBy: 'page',
            autoplay: true,
            mouseDrag: true,
            controls: false,
            autoplayButtonOutput: false,
            preventScrollOnTouch: 'auto',
            responsive: {
                769: {
                    gutter: 100,
                    nav: true,
                },
                0: {
                    gutter: 50,
                    nav: false,
                }
            },
        });

    }



    let w = window,
        d = document,
        e = d.documentElement,
        g = d.getElementsByTagName('body')[0],
        windowWidth = w.innerWidth || e.clientWidth || g.clientWidth,
        windowHeight = w.innerHeight || e.clientHeight || g.clientHeight;


    let oldpopupInputBox, oldpopupInput;

    reloadFile();


    /* SLIDE UP */
    let slideUp = (target, duration = 500) => {

        target.style.transitionProperty = 'height, margin, padding';
        target.style.transitionDuration = duration + 'ms';
        target.style.boxSizing = 'border-box';
        target.style.height = target.offsetHeight + 'px';
        target.offsetHeight;
        target.style.overflow = 'hidden';
        target.style.height = 0;
        target.style.paddingTop = 0;
        target.style.paddingBottom = 0;
        target.style.marginTop = 0;
        target.style.marginBottom = 0;
        window.setTimeout(() => {
            target.style.display = 'none';
            target.style.removeProperty('height');
            target.style.removeProperty('padding-top');
            target.style.removeProperty('padding-bottom');
            target.style.removeProperty('margin-top');
            target.style.removeProperty('margin-bottom');
            target.style.removeProperty('overflow');
            target.style.removeProperty('transition-duration');
            target.style.removeProperty('transition-property');
        }, duration);
    }

    /* SLIDE DOWN */
    let slideDown = (target, duration = 500) => {

        target.style.removeProperty('display');
        let display = window.getComputedStyle(target).display;
        if (display === 'none') display = 'block';
        target.style.display = display;
        let height = target.offsetHeight;
        target.style.overflow = 'hidden';
        target.style.height = 0;
        target.style.paddingTop = 0;
        target.style.paddingBottom = 0;
        target.style.marginTop = 0;
        target.style.marginBottom = 0;
        target.offsetHeight;
        target.style.boxSizing = 'border-box';
        target.style.transitionProperty = "height, margin, padding";
        target.style.transitionDuration = duration + 'ms';
        target.style.height = height + 'px';
        target.style.removeProperty('padding-top');
        target.style.removeProperty('padding-bottom');
        target.style.removeProperty('margin-top');
        target.style.removeProperty('margin-bottom');
        window.setTimeout(() => {
            target.style.removeProperty('height');
            target.style.removeProperty('overflow');
            target.style.removeProperty('transition-duration');
            target.style.removeProperty('transition-property');
        }, duration);
    }

    /* TOOGLE */
    var slideToggle = (target, duration = 500) => {
        if (window.getComputedStyle(target).display === 'none') {
            return slideDown(target, duration);
        } else {
            return slideUp(target, duration);
        }
    }


    // slideUp(document.getElementById("target"), 1000);

    // slideDown(document.getElementById("target"), 1000);

    // slideToggle(document.getElementById("target"), 1000);


    function reloadFile() {
        windowWidth = w.innerWidth || e.clientWidth || g.clientWidth;
        windowHeight = w.innerHeight || e.clientHeight || g.clientHeight;

        let vh = window.innerHeight * 0.01;
        document.documentElement.style.setProperty('--vh', `${vh}px`);

        let hh = document.querySelector('header').clientHeight;
        document.documentElement.style.setProperty('--hh', `${hh}px`);

        let hch = document.querySelector('header').querySelector('.container').clientHeight;
        document.documentElement.style.setProperty('--hch', `${hch}px`);

        let fh = document.querySelector('footer').clientHeight;
        document.documentElement.style.setProperty('--fh', `${fh}px`);

        let assortmentWrapTitle = document.querySelector(".assortment__wrap-title");
        if (!!assortmentWrapTitle) {
            let assortmentWrapMarginRight = parseInt(getComputedStyle(assortmentWrapTitle, true).marginRight);
            let awt = assortmentWrapTitle.offsetWidth + assortmentWrapMarginRight;
            document.documentElement.style.setProperty('--awt', `${awt}px`);
        }


        // width scroll-bar
        let div = document.createElement('div');
        div.style.overflowY = 'scroll';
        div.style.width = '50px';
        div.style.height = '50px';
        document.body.append(div);
        let sw = div.offsetWidth - div.clientWidth;
        div.remove();
        document.documentElement.style.setProperty('--sw', `${sw}px`);




        let recommendList = document.querySelector('#recommend__list');
        if (windowWidth <= 600 && !!recommendList) {
            recommendList.classList.remove('dragscroll');
        }

        document.querySelector('.header').classList.remove('fix', 'out');
        document.querySelector('.header__nav-wrap').classList.remove('fix', 'out');
        let headerNavWrap = document.querySelector('.header__nav-wrap'),
            headerNavWrapTop = 95,
            header = document.querySelector('.header'),
            headerTop = 0,
            scrollPrev = 0;
        window.addEventListener('scroll', function (e) {


            if (windowWidth > 768) {
                header.classList.remove('fix', 'out');

                headerFixed(headerNavWrapTop, headerNavWrap);
            } else {
                headerNavWrap.classList.remove('fix', 'out');

                headerFixed(headerTop, header);
            }
        })
        function headerFixed(top, elem) {
            let scrolled = window.scrollY;

            if (top < scrolled) {
                elem.classList.add('fix');
            } else {
                elem.classList.remove('fix');
            }
            if (scrolled > 300 && scrolled > scrollPrev) {
                elem.classList.add('out');
            } else {
                elem.classList.remove('out');
            }
            scrollPrev = scrolled;
        }
    }




    let vacanciesInputFile = document.querySelector('#vacancies__input-file');

    if (!!vacanciesInputFile) {
        vacanciesInputFile.addEventListener("change", function (e) {
            document.querySelector('.vacancies__input-file-title').innerHTML = this.files[0].name;
            document.querySelector('.vacancies__btn-upload').style.display = 'flex';
        }, 0);
    }

    const actionItems = document.querySelectorAll('.action__item');

    if (!!actionItems) {
        actionItems.forEach(el => el.querySelector('img').classList.add('action__banner'))
    }

    const inputData = document.querySelectorAll('.input-data');
    if (!!inputData) {
        let leng = document.querySelector('html').getAttribute('lang');
        let language;
        let hour = new Date().getHours();
        let minute = new Date().getMinutes();
        let count = 0;

        if(leng = "ru"){
            language = Russian;
        } else if (leng = "uk") {
            language = Ukrainian;
        } else if (leng = "en-us") {
            language = English;
        }
        
        if(hour > 20 && minute > 0){
            count = 1;
        }
        flatpickr('.input-data', {
            minDate: new Date().fp_incr(count),
            minTime: "10:00",
            maxTime: "21:00",
            enableTime: true,
            dateFormat: "Y-m-d H:i",
            disableMobile: "true",
            "locale": language  // change locale  "locale": Ukrainian   "locale": English
        });
    }


    const inputBirthday = document.querySelectorAll('.input-birthday');
    if(!!inputBirthday){
        flatpickr('.input-birthday',{
            maxDate: new Date(),
            dateFormat: "Y-m-d",
            disableMobile: "true",
            "locale": Russian  // change locale  "locale": Ukrainian   "locale": English
        });
    }

    const bonusesWrap = document.querySelector('.bonuses__wrap');
    if(!!bonusesWrap) {
        const bonusesTabs = bonusesWrap.querySelectorAll('.bonuses__tabs-item');
        const bonusesSection = bonusesWrap.querySelectorAll('.bonuses__section');
        let indexTab;
        
        bonusesTabs.forEach((el, index) => {
            el.addEventListener('click', function(e){
                let bonusesTabActive = bonusesWrap.querySelector('.bonuses__tabs-item.active');
                let bonusesSectionActive = bonusesWrap.querySelector('.bonuses__section.active');
                e.preventDefault();
                if(this.classList.contains('active')) return;
                bonusesTabActive.classList.remove('active');
                bonusesSectionActive.classList.remove('active');
                indexTab = index;
                this.classList.add('active');

                bonusesSection.forEach((el, index) => {
                    if(indexTab === index) {
                        el.classList.add('active');
                    }
                })
            })
        })
    }

    // let radioLevel1 = document.querySelectorAll('.radio');
    // if (!!radioLevel1) {
    //     radioLevel1.forEach(el => el.addEventListener("click", function (event) {
    //         let radioLevel2 = el.querySelector('.radio-level-2');

    //         let inputRadio = el.querySelector('.custom-radio').getAttribute('name');
    //         if (!!radioLevel2 && !!radioLevel2.classList.contains('show')) return;

    //         document.querySelectorAll(`[name=${inputRadio}`).forEach(el => {
    //             if (!el.closest('.radio').querySelector('.radio-level-2')) return
    //             el.closest('.radio').querySelector('.radio-level-2').style.display = 'none';
    //             el.closest('.radio').querySelector('.radio-level-2').classList.remove('show')
    //         });

    //         if (!radioLevel2) return
    //         radioLevel2.classList.add('show')
    //         slideDown(radioLevel2, 300);
    //     }));
    // }


    // let btnPlay = document.querySelector('.preview__btn-play');

    // if (!!btnPlay) {
    //     btnPlay.addEventListener("click", function () {
    //         let video = this.closest('.preview__video-wrap').querySelector('.preview__video'),
    //             checkedPlay = this.classList.contains('play');
    //         if (!checkedPlay) {
    //             video.play();
    //             this.classList.add('play');
    //         } else {
    //             video.pause();
    //             this.classList.remove('play');
    //         }
    //     });
    // }

    if (!!document.querySelector('.testimonial__container-dish')) {
        let counterTestimonial = document.querySelector('.testimonial__container-dish').querySelectorAll('.testimonial__item').length;

        document.querySelectorAll('.counter-dynamic').forEach(el => {
            el.innerHTML = `(${counterTestimonial})`;
        })
    }

    //click outside element
    document.addEventListener("click", function (event) {
        if (event.target.closest('.accordion-wrap') === null) {
            accordionWrap.forEach(el => {
                el.classList.remove('active');
                el.closest('.accordion-wrap').querySelector('.accordion').style.display = 'none'
            });
            document.querySelectorAll('.triangle-icon').forEach(el => el.classList.remove('active'));
            event.stopPropagation();
        }
        if (!!oldpopupInput && !oldpopupInput.value && event.target.closest('.popup__input-box') === null) {
            oldpopupInputBox.classList.remove('val');
        }
        if (event.target.closest('.select__nav') === null) {
            document.querySelectorAll('.select__nav').forEach(el => el.classList.remove('open'));
        }
    });

    if (!!languageItems) {
        languageItems.forEach(el => el.addEventListener("click", function () {
            languageItems.forEach(el => el.classList.remove('active'));
            this.classList.add('active');
        }));
    }

    hamburgerBtn.addEventListener("click", function () {
        document.querySelector('.header__mob-wrap').classList.add('active');
        body.classList.add('overflow-hidden');
    });

    if (!!cartBtnOpen) {
        cartBtnOpen.addEventListener('click', function () {
            cartPopup.classList.add('open');
            body.classList.add('overflow-hidden');
        });

        cartClose.forEach(el => el.addEventListener('click', function () {
            cartPopup.classList.remove('open');
            body.classList.remove('overflow-hidden');
        }));
    }



    if (!!dishDescriptionBtn) {
        dishDescriptionBtn.addEventListener("click", function () {
            this.classList.toggle('active');
            this.closest('.dish__description-text').querySelector('.dish__description-scroll').classList.toggle('active');

            if (this.dataset.open === this.innerHTML) {
                this.innerHTML = this.dataset.close;
                return
            }
            if (this.dataset.close === this.innerHTML) {
                this.innerHTML = this.dataset.open;
            }
        });
    }




    // selectTitleBox.forEach(el => el.addEventListener("click", function () {
    //     let parent = el.closest('.select__nav');

    //     parent.classList.toggle('open');
    // }));

    // selectItem.forEach(el => el.addEventListener("click", function () {
    //     let parent = el.closest('.select__nav'),
    //         title = parent.querySelector('.select__title'),
    //         valueTitle = el.innerHTML;
    //     title.innerHTML = valueTitle;
    //     title.classList.add('active');
    //     if (title.classList.contains('active')) {
    //         title.closest('.select__nav').classList.remove('error');
    //     } else {
    //         title.closest('.select__nav').classList.add('error');
    //     }
    //     parent.classList.toggle('open');
    // }));


    let checkoutCartMob = document.querySelector('.checkout__cart-mob');
    if (!!checkoutCartMob) {
        checkoutCartMob.addEventListener("click", function () {
            let parent = this.closest('.checkout__cart'),
                listProduct = parent.querySelector('.checkout__list-product'),
                checkoutBtnTitle = parent.querySelector('.checkout__btn-title'),
                checkbox = this.classList.contains('active'),
                dataOpen = checkoutBtnTitle.getAttribute('data-open'),
                dataClose = checkoutBtnTitle.getAttribute('data-close');


            if (!checkbox) {
                checkoutBtnTitle.innerHTML = dataClose;
            } else {
                checkoutBtnTitle.innerHTML = dataOpen;
            }

            this.classList.toggle('active');
            listProduct.classList.toggle('active');
        });
    }

    let linksDownload = document.querySelectorAll('a[download]');
    if (!!linksDownload) {
        linksDownload.forEach(el => el.addEventListener('click', function (e) {
            e.stopPropagation();
        }));
    }

    if (!!formValidation) {

        popupInputPlaceholder.forEach(el => el.onclick = function (event) {
            let parent = el.closest('.popup__input-box');

            if (!!parent.classList.contains('val')) return;

            parent.querySelector('.popup__input').click();
        });


        // popupLogIn()
        // popupRegistration()
        popupRecoverPassword()
        popupMail()
        popupVacancies();
        popupCatering();
        popupRestorans();
    }



    if (!!headerClose) {
        headerClose.forEach(el => el.addEventListener("click", function () {
            languageItems.forEach(el => el.classList.remove('active'));
            headerMobWrap.classList.remove('active');
            body.classList.remove('overflow-hidden');
        }));
    }

    if (!!assortmentRadioBtn) {
        assortmentRadioBtn.forEach(el => el.addEventListener("click", function (e) {
            e.preventDefault();
            e.stopPropagation();
            assortmentRadioBtn.forEach(el => {
                el.classList.remove('active')
            });
            this.classList.add('active');


            let anchor = this.querySelector('a').getAttribute('href'),
                assortmentList = document.querySelector(`${anchor}`),
                wrapLists = document.querySelector('.assortment__list');

            wrapLists.querySelectorAll('.product__list').forEach(el => {
                el.classList.remove('active');
                el.classList.add('disable');
            })

            assortmentList.classList.add('active');
        }));
    }

    if (!!btnsCartRemoveProduct) {
        btnsCartRemoveProduct.forEach(el => el.addEventListener("click", function () {
            let parent = el.closest('.cart__item');
            parent.remove();
        }));
    }


    if (!!catalogRadioBtn) {
        catalogRadioBtn.forEach(el => el.addEventListener("click", function () {
            catalogRadioBtn.forEach(el => el.classList.remove('active'));
            this.classList.add('active');
        }));
    }

    if (!!offerTitleItems) {
        offerTitleItems.forEach(el => el.addEventListener("click", function () {
            // if(el.classList.contains('active')) return
            let itemData = el.dataset.tab;

            offerTitleItems.forEach(el => el.classList.remove('active'));
            el.classList.add('active');
            document.querySelectorAll('.offer__list').forEach(el => el.classList.remove('active'));
            document.querySelector(`#${itemData}`).classList.add('active');
        }));
    }


    if (!!catalogNavItem) {
        catalogNavItem.forEach(el => el.addEventListener("click", function () {
            catalogNavItem.forEach(el => el.classList.remove('active'));
            this.classList.add('active');
        }));
    }

    document.addEventListener('click', function(event){
        let target = event.target;

        if(target.classList.contains('phone')) {
            IMask(
                target, {
                mask: '+{38}(000)000-00-00'
            });
        }

        if(target.classList.contains('password-control')) {
            let parent = target.closest('.password'),
            passwordInput = parent.querySelector('.password-input');

            if (passwordInput.getAttribute('type') == 'password') {
                target.classList.add('view');
                passwordInput.setAttribute('type', 'text');
            } else {
                target.classList.remove('view');
                passwordInput.setAttribute('type', 'password');
            }
            return false;
        }

        if(target.classList.contains('popup__input') || target.classList.contains('popup__input-placeholder')) {
            let parent = target.closest('.popup__input-box'),
                input = parent.querySelector('.popup__input');

            if (!!oldpopupInput && !oldpopupInput.value) {
                oldpopupInputBox.classList.remove('val');
            }
    
            parent.classList.add('val');
    
            oldpopupInput = input;
            oldpopupInputBox = parent;
        }

        if(target.closest('.select__title-box')) {
            let parent = target.closest('.select__nav');
            parent.classList.toggle('open');
        }

        if(target.classList.contains('select__nav-item')) {
            let parent = target.closest('.select__nav'),
            title = parent.querySelector('.select__title'),
            valueTitle = target.innerHTML;

            title.innerHTML = valueTitle;
            title.classList.add('active');

            if (title.classList.contains('active')) {
                title.closest('.select__nav').classList.remove('error');
            } else {
                title.closest('.select__nav').classList.add('error');
            }
            parent.classList.remove('open');
        }
    })

    document.addEventListener('input', function(event){
        let target = event.target;

        if(target.classList.contains('popup__input')) {
            document.querySelectorAll('.popup__input').forEach(el => {
                if(el.value !== '') {
					el.closest('.popup__input-box').classList.add('val');
				}
            })
        }

        if(target.getAttribute('name') === "password") {
            if (target.closest('.popup__input-box')) {
                checkValidate(target, patternPassword, 'popup__input-box');
            }
            if (target.closest('.checkout__input-box')) {
                checkValidate(target, patternPassword, 'checkout__input-box');
            }
        }

        if(target.getAttribute('name') === "password2") {
            if (target.closest('.popup__input-box')) {
                let password = target.closest('form').querySelector('input[name="password"]')
                checkValidatePassword2(password, target, 'popup__input-box');
            }
            if (target.closest('.checkout__input-box')) {
                let password = target.closest('form').querySelector('input[name="password"]')
                checkValidatePassword2(password, target, 'checkout__input-box');
            }
        }

        if(target.getAttribute('name') === "email") {
            if (target.closest('.popup__input-box')) {
                checkValidate(target, patternEmail, 'popup__input-box');
            }
            if (target.closest('.checkout__input-box')) {
                checkValidate(target, patternEmail, 'checkout__input-box');
            }
        }

        if(target.getAttribute('name') === "phone") {
            if (target.closest('.popup__input-box')) {
                checkValidate(target, patternPhone, 'popup__input-box');
            }
            if (target.closest('.checkout__input-box')) {
                checkValidate(target, patternPhone, 'checkout__input-box');
            }
        }

        if(target.getAttribute('name') === "firstname" || target.getAttribute('name') === "surname") {
            if (target.closest('.popup__input-box')) {
                checkValidate(target, patternName, 'popup__input-box');
            }
            if (target.closest('.checkout__input-box')) {
                checkValidate(target, patternName, 'checkout__input-box');
            }
        }

        if(target.getAttribute('name') === "number") {
            if (target.closest('.popup__input-box')) {
                checkValidate(target, patternNumber, 'popup__input-box');
            }
            if (target.closest('.checkout__input-box')) {
                checkValidate(target, patternNumber, 'checkout__input-box');
            }
            
            if (target.value.length > 5) {
                target.value = target.value.slice(0, 5);
            }
        }

        if(target.getAttribute('name') === "file") {
            checkValidateFile(target, patternFile);
        }

        if(target.getAttribute('name') === "date") {
            checkValidateFile(target, patternDate);
        }

        if(target.tagName === "TEXTAREA") {
            if (target.closest('.popup__input-box')) {
                checkValidate(target, patternText, 'popup__input-box');
            }
            if (target.closest('.checkout__input-box')) {
                checkValidate(target, patternText, 'checkout__input-box');
            }
        }
    })

    if (!!inputChange) {
        inputChange.forEach(el => el.addEventListener("click", function () {
            let parent = el.closest('.input-box'),
                amount = parent.querySelector('.amount'),
                valueMin = amount.dataset.valueMin,
                inputFirst = parent.querySelector('.input-change:nth-child(1)');

            if(typeof valueMin == "undefined") {
                valueMin = 1;
            }

            if (this.value === '+') {
                amount.value = +amount.value + 1;
            } else if (this.value === '−' && amount.value > +valueMin) { // '-' - unicode &#8722
                amount.value = +amount.value - 1;
                if (+amount.value == +valueMin) {
                    inputFirst.setAttribute('disabled', 'true');
                }
            }
            if (+amount.value > +valueMin) {
                inputFirst.removeAttribute('disabled');
            }
        }));
    }

    if (windowWidth <= 768) {
        if (!!testimonialBtnShow) {
            testimonialBtnShow.addEventListener("click", function (e) {
                if (this.getAttribute('type') === 'submit') return
                e.preventDefault();
                let dataValue = this.getAttribute('data-submit');
                this.setAttribute('type', 'submit');
                this.setAttribute('value', `${dataValue}`);
                this.classList.remove('testimonial__btn-show');

                slideDown(this.closest('.testimonial__new').querySelector('.testimonial__new-hide'), 300);

                setTimeout(scrollBottom, 300);
            });
        }

    }

    if (!!document.querySelector('.testimonial__item a')) {
        testimoniaDescription.forEach(el => {
            if (el.scrollHeight === el.clientHeight) {
                el.closest('.testimonial__item').querySelector('.testimonial__btn-message').style.display = 'none'
            }
        });
    }

    if (!!document.querySelector('.offer__title-item-first')) {
        //triger click first offer
        document.querySelector('.offer__title-item-first').click();
    }


    function scrollBottom() {
        let scrollHeight = Math.max(
            document.body.scrollHeight, document.documentElement.scrollHeight,
            document.body.offsetHeight, document.documentElement.offsetHeight,
            document.body.clientHeight, document.documentElement.clientHeight
        )
        window.scrollTo({ top: scrollHeight, behavior: 'smooth' });
    }


    if (!!checkoutFormValidation) {
        checkoutFormValidation.forEach(el => el.addEventListener("submit", function (event) {
            event.preventDefault();

        }));
    }




    //reload File js
    var oldWidth = window.innerWidth;
    window.onresize = function () {
        var newWidth = window.innerWidth;
        if (newWidth != oldWidth) {
            reloadFile()
            oldWidth = newWidth;
        }
    };

    const popupWrap = document.querySelector('.popup__wrap'),
        popupBtn = document.querySelectorAll('.popup__btn'),
        popupContainerAll = document.querySelectorAll('.popup__container'),
        popupBtnClose = document.querySelectorAll('.popup-close'),
        cartInfo = document.querySelectorAll('.cart__info'),
        cartInfoCloseBtn = document.querySelectorAll('.cart__info-close');

    popupBtn.forEach(el => el.addEventListener("click", function () {
        let popupClass = this.dataset.popup;
        let popupContainer = document.querySelector(`.${popupClass}`);

        popupWrap.classList.remove('active');
        popupContainerAll.forEach(el => el.classList.remove('active'));

        body.classList.add('overflow-hidden');
        popupWrap.classList.add('active');
        popupContainer.classList.add('active');
    }));

    popupBtnClose.forEach(el => el.addEventListener("click", function () {

        body.classList.remove('overflow-hidden');
        popupWrap.classList.remove('active');
        popupContainerAll.forEach(el => el.classList.remove('active'));
    }));

    if (windowWidth <= 600) {

        if (!!cartInfo) {
            cartInfo.forEach(el => el.addEventListener("click", function () {
                let parent = this.closest('.cart__info-wrap');
                parent.classList.add('active');
            }));

            cartInfoCloseBtn.forEach(el => el.addEventListener("click", function (event) {
                event.stopPropagation()
                let parent = this.closest('.cart__info-wrap');
                parent.classList.remove('active');
            }));
        }

    }
    let anchors = document.querySelectorAll('a.scroll-to');

    anchors.forEach(el => el.addEventListener("click", function (e) {
        e.preventDefault();

        const blockID = el.getAttribute('href');
        if (blockID === null) return

        document.querySelector(blockID).scrollIntoView({
            behavior: 'smooth',
            block: 'start'
        })
        let btnPlay = document.querySelector('.preview__btn-play');
        if (blockID == '#previewWrap') {
            btnPlay.click();
        }
    }));

    const preview = document.querySelector(".preview__wrap");

    if (!!preview) {

        const previewObserver = new IntersectionObserver((entries, previewe) => {
            entries.forEach((entry) => {
                if (entry.isIntersecting) {
                    const item = entry.target;
                    let t1 = new TimelineMax();

                    t1.from(
                        item.querySelector(".preview__img"),
                        1,
                        {
                            y: "+20%",
                            opacity: 0,
                            ease: Expo.easeOut,
                        },
                        "=+0.5",
                    );

                    t1.from(
                        item.querySelector(".preview__video-wrap"),
                        1,
                        {
                            y: "+20%",
                            opacity: 0,
                            ease: Expo.easeOut,
                        },
                        "=-0.5",
                    );

                    previewe.unobserve(item);
                }
            });
        });

        previewObserver.observe(preview);
    }

    const testimonial = document.querySelector(".testimonial__wrap");


    if (!!testimonial) {
        const testimonialObserver = new IntersectionObserver((entries, testimoniale) => {
            entries.forEach((entry) => {
                if (entry.isIntersecting) {
                    const item = entry.target;
                    let t1 = new TimelineMax();

                    t1.staggerFrom(
                        item.querySelectorAll(".testimonial__item"),
                        3,
                        {
                            cycle: {
                                x: function (index) {
                                    if (index % 2 === 0) {
                                        return "-20%";
                                    } else {
                                        return "+20%";
                                    }
                                },
                            },
                            opacity: 0,
                            ease: Expo.easeOut,
                        },
                        0.5,
                        "=-1",
                    );

                    testimoniale.unobserve(item);
                }
            });
        });

        testimonialObserver.observe(testimonial);
    }

    const shops = document.querySelector(".shops__wrap");

    if (!!shops) {

        const shopsObserver = new IntersectionObserver((entries, shopse) => {
            entries.forEach((entry) => {
                if (entry.isIntersecting) {
                    const item = entry.target;
                    let t1 = new TimelineMax();

                    t1.staggerFrom(
                        item.querySelectorAll(".shops__item"),
                        3,
                        {
                            cycle: {
                                x: function (index) {
                                    if (index % 2 === 0) {
                                        return "-20%";
                                    } else {
                                        return "+20%";
                                    }
                                },
                            },
                            opacity: 0,
                            ease: Expo.easeOut,
                        },
                        0.5,
                        "=-1",
                    );

                    shopse.unobserve(item);
                }
            });
        });

        shopsObserver.observe(shops);
    }

    const assortmentBox = document.querySelector('.assortment__input-box ');
    if (!!assortmentBox && assortmentBox.scrollWidth > assortmentBox.clientWidth) {
        assortmentBox.closest('.assortment__input-wrap').classList.add('scroll');
    }

    findVideos();
});

$(document).ready(function () {
    if ($('.owl-carousel').length > 0) {
        $('.owl-carousel').owlCarousel({
            items: 1,
            margin: 30,
            autoPlay: 3000,
            singleItem: true,
            loop: true,
            navigation: false,
            pagination: true
        });
    }
})


function validatePopupLogIn(e) {
    let form = e.target.closest('form'),
        email = form.elements.email,
        password = form.elements.password;

        checkValidate(password, patternPassword, 'popup__input-box');
        checkValidate(email, patternEmail, 'popup__input-box');
    if (
        !!checkValidate(password, patternPassword, 'popup__input-box') &&
        !!checkValidate(email, patternEmail, 'popup__input-box')
    ) {
        return true
    } else { return false }
}

function popupRegistration(e) {
    let form = e.target.closest('form'),
        email = form.elements.email,
        password = form.elements.password,
        password2 = form.elements.password2,
        phone = form.elements.phone,
        firstname = form.elements.firstname,
        surname = form.elements.surname,
        selectTitle = form.querySelector('.select__title');

    checkValidateSelect(selectTitle);
    checkValidatePassword2(password, password2, 'popup__input-box');
    checkValidate(password, patternPassword, 'popup__input-box');
    checkValidate(email, patternEmail, 'popup__input-box');
    checkValidate(phone, patternPhone, 'popup__input-box');
    checkValidate(firstname, patternName, 'popup__input-box');
    checkValidate(surname, patternName, 'popup__input-box');

    if (
        !!checkValidateSelect(selectTitle) &&
        !!checkValidate(password, patternPassword, 'popup__input-box') &&
        !!checkValidatePassword2(password, password2, 'popup__input-box') &&
        !!checkValidate(email, patternEmail, 'popup__input-box') &&
        !!checkValidate(phone, patternPhone, 'popup__input-box') &&
        !!checkValidate(firstname, patternName, 'popup__input-box') &&
        !!checkValidate(surname, patternName, 'popup__input-box')
    ) {
        return true
    } else { return false }

}

function popupRecoverPassword() {
    let formRecoverPassword = document.querySelector('.popup__recoverPassword');

    formRecoverPassword.addEventListener('submit', function (e) {
        e.preventDefault();
        let form = e.target,
            email = form.elements.email;

        checkValidate(email, patternEmail, 'popup__input-box');
    })
}

function popupMail() {
    let formMail = document.querySelector('.popup__mail');

    formMail.addEventListener('submit', function (e) {
        e.preventDefault();
        let form = e.target,
            email = form.elements.email,
            phone = form.elements.phone,
            firstname = form.elements.firstname,
            textarea = form.querySelector('textarea');

        checkValidate(textarea, patternText, 'popup__input-box');
        checkValidate(email, patternEmail, 'popup__input-box');
        checkValidate(phone, patternPhone, 'popup__input-box');
        checkValidate(firstname, patternName, 'popup__input-box');
    })
}

function popupVacancies() {
    let formVacancies = document.querySelector('.vacancies__form');
    if (!formVacancies) return

    formVacancies.addEventListener('submit', function (e) {
        e.preventDefault();
        let form = e.target,
            phone = form.elements.phone,
            firstname = form.elements.firstname,
            file = form.elements.file,
            selectTitle = form.querySelector('.select__title');

        checkValidateSelect(selectTitle);
        checkValidate(phone, patternPhone, 'checkout__input-box');
        checkValidate(firstname, patternName, 'checkout__input-box');
        checkValidateFile(file, patternFile);
    })
}

function popupCatering() {
    let formCatering = document.querySelector('.catering__order');
    if (!formCatering) return

    formCatering.addEventListener('submit', function (e) {
        e.preventDefault();
        let form = e.target,
            phone = form.elements.phone,
            firstname = form.elements.firstname,
            date = form.elements.date,
            number = form.elements.number;


        checkValidate(phone, patternPhone, 'checkout__input-box');
        checkValidate(number, patternNumber, 'checkout__input-box');
        checkValidate(date, patternDate, 'checkout__input-box');
        checkValidate(firstname, patternName, 'checkout__input-box');
    })
}

function popupRestorans() {
    let formRestorans = document.querySelector('.popup__restorans');
    if (!formRestorans) return

    formRestorans.addEventListener('submit', function (e) {
        e.preventDefault();
        let form = e.target,
            phone = form.elements.phone,
            firstname = form.elements.firstname,
            date = form.elements.date,
            textarea = form.querySelector('textarea'),
            number = form.elements.number,
            selectTitle = form.querySelector('.select__title');

        checkValidateSelect(selectTitle);
        checkValidate(phone, patternPhone, 'popup__input-box');
        checkValidate(number, patternNumber, 'popup__input-box');
        checkValidate(firstname, patternName, 'popup__input-box');
        checkValidate(date, patternDate, 'popup__input-box');
        checkValidate(textarea, patternText, 'popup__input-box');
    })
}

function checkValidateFile(file, pattern) {
    let wrap = file.closest('.file__input-box');
    if (validate(file.value, pattern) && (file.files.length !== 0 && (file.files[0].size / 1024 / 1024) <= 25)) {
        wrap.classList.remove('error');
    } else {
        wrap.classList.add('error');
    }
}

function checkValidatePassword2(password, password2, classBox) {
    let wrap = password2.closest(`.${classBox}`)
    if (password.value === password2.value && password2.value.length !== 0) {
        wrap.classList.remove('error');
    } else {
        wrap.classList.add('error');
    }
}

function checkValidateSelect(select) {
    let wrap = select.closest('.select__nav')
    if (select.classList.contains('active')) {
        wrap.classList.remove('error');
    } else {
        wrap.classList.add('error');
    }
}

function checkValidate(input, pattern, classBox) {
    let wrap = input.closest(`.${classBox}`);
    if (validate(input.value, pattern)) {
        wrap.classList.remove('error');
        return true;
    } else {
        wrap.classList.add('error');
        return false;
    }
}

function validate(text, pattern) {
    return pattern.test(String(text).toLowerCase());
}


//videoYoutube
function findVideos() {
    let videos = document.querySelectorAll('.video');

    for (let i = 0; i < videos.length; i++) {
        setupVideo(videos[i]);
    }
}

function setupVideo(video) {
    let link = video.querySelector('.video__link');
    let media = video.querySelector('.video__media');
    let button = video.querySelector('.preview__btn-play');
    let id = parseMediaURL(media);

    video.addEventListener('click', (e) => {
        e.target.style.display = "none";
        let iframe = createIframe(id);

        link.remove();
        button.remove();
        video.appendChild(iframe);
    });

    link.removeAttribute('href');
    video.classList.add('video--enabled');
}

function parseMediaURL(media) {
    let regexp = /\/\/img\.youtube\.com\/vi\/([a-zA-Z0-9_-]+)\/mqdefault\.jpg/i;
    let url = media.src;
    let match = url.match(regexp);

    return match[1];
}

function createIframe(id) {
    let iframe = document.createElement('iframe');

    iframe.setAttribute('allowfullscreen', '');
    // iframe.setAttribute('allow', 'autoplay');
    iframe.setAttribute('src', generateURL(id));
    iframe.classList.add('video__media');

    return iframe;
}

function generateURL(id) {
    let query = '?rel=0&showinfo=0&autoplay=1&muted=1';

    return 'https://www.youtube.com/embed/' + id + query;
}